import{k as je,l as Qe,a as R,u as Ne,i as h,c as p,S as Q,f as m,m as b,b as Ye,F as ee,h as U,j as M,s as Se,n as Oe,o as D,p as O,q as Ce,r as de,v as ae,M as V,w,g as Fe,d as Ge,t as i}from"./index-CaVDKa1_.js";/* empty css                   */import{S as Ke,R as xe}from"./studyrepo-DdQtQ0jx.js";import{S as Ue,C as We}from"./Shalala-CrGIVDxX.js";import{T as Be,a as me,C as He}from"./Chesstree2-DfHIwYJt.js";import{M as Ve,I as Je}from"./chess_pgn_logic-sdK2B0op.js";import{O as Xe,S as Ze,D as et,a as Ee}from"./SessionStore-D9UxpokJ.js";import{s as tt}from"./scroll-DnAhRpRC.js";var st=i("<div class=progress-wrap><div class=progress><div class=bar></div></div><h5>%"),rt=i("<div class=repertoire>"),at=i("<div class=sections-wrap><h2 class=title> <span>%</span></h2><div class=sections-scroll><div class=sections>"),it=i("<a class=delete> Delete Study "),lt=i("<div class=tools><a class=delete> Clear Progress "),nt=i("<div class=section><input type=radio name=accordion><label> <span class=progress>%</span></label><div class=chapters>"),_t=i("<div><div class=title><span class=no>.</span> <!> "),ot=i("<div class=board-wrap>"),ct=i("<div class=eval-gauge>"),Me=i("<small> Click on variations to expand. "),ht=i("<small> Your goal is to guess every move correctly to pass the quiz. "),ut=i("<div class=in_mode><button><span> Take Quiz </span></button><button><span> Play Deathmatch "),dt=i("<h2>Deathmatch Mode"),Pe=i("<span class=passed>passed"),mt=i("<small> Deathmatch "),pt=i("<small> Your score: "),Te=i("<small> Progress +<!>% "),gt=i("<div class=in_mode><button><span> Restart Deathmatch </span></button><button class=end2><span> End Deathmatch "),vt=i("<small> Quiz "),ft=i("<small> Your score: <!> out of 15 correct"),$t=i("<div class=past>"),zt=i("<div class=in_mode><button><span> Restart Quiz </span></button><button class=end2><span> End Quiz "),qt=i("<small> Your goal is to guess every move correctly to fill up the progress bar. "),bt=i("<div class=in_mode><button><span> Play all Moves </span></button><button><span> Play as Match "),yt=i("<h2>Play as Match"),De=i("<small> End of practice. "),Re=i("<small> Congratulations. "),wt=i("<div class=in_mode><button><span> Rematch </span></button><button class=end2><span> End Practice "),kt=i("<h2>Play all moves"),St=i("<div class=in_mode><button><span> Clear </span></button><button class=end2><span> End Practice "),Ct=i("<div class=replay-wrap><div class=replay-header><div class=title><h4></h4><h5></h5></div></div><div class=replay><div class=replay-v></div><div class=branch-sums><button data-icon=></button><button data-icon=></button></div><div class=replay-jump><button data-icon=></button><button data-icon=></button><button data-icon=></button><button data-icon=></button></div><div class=tools><div class=tabs><h3>Practice</h3><h3>Quiz</h3></div><div class=content>"),xt=i('<div class=line><span class="fill white"></span><span class="fill black">'),Et=i("<span class=index>"),Mt=i("<div class=fbt>"),Pt=i("<small>You will play the moves from the opening."),Tt=i("<small>If you go out of book, game ends."),Dt=i("<div class=in_mode><button class=end2><span> End Deathmatch "),Le=i("<span class=failed>failed"),Rt=i("<h3>Quiz Mode"),Lt=i("<small>You are given 15 random positions from the opening."),At=i("<small>Guess the correct move."),It=i("<h2> of 15"),jt=i("<div class=in_mode><button class=end2><span> End Quiz "),Qt=i("<span>"),Nt=i("<small> Try to guess the moves for <!>."),Yt=i("<small> AI will play the next move, picking a random variation. "),Ot=i("<small> Moves will be hidden once the game is started. "),Ft=i("<small>Try to guess the moves for both sides."),Gt=i("<small>Moves will be hidden once you start.");const Kt=["#afacc6","#0d2b45","#203c56","#544e68","#8d697a","#d08159"],Ut=d=>Kt[Math.floor((1-d/10)*6)],Wt=d=>`${Math.floor(d/2)+1}.`+(d%2===0?"..":"");class Bt{_mode;get mode(){return this._mode[0]()}set mode(s){this._mode[1](s)}_match_color;get match_color(){return this._match_color[0]()}set match_color(s){this._match_color[1](s)}flip_match_color(){this.match_color=this.match_color==="white"?"black":"white"}_practice_end_result;get practice_end_result(){return this._practice_end_result[0]()}set practice_end_result(s){this._practice_end_result[1](s)}get i_quiz_quiz(){return this.quiz_quiz_ls.length+1}restart_match(){w(()=>{this.practice_end_result=!1,this.mode="match",this.flip_match_color()})}restart_moves(){w(()=>{this.practice_end_result=!1,this.mode="moves",this.flip_match_color()})}end_match_or_moves(){w(()=>{this.practice_end_result=!1,this.mode=void 0})}restart_quiz(){w(()=>{this.quiz_quiz_ls=[],this._quiz_quiz_ls_paths=[],this.mode="quiz-quiz"})}end_quiz(){w(()=>{this.quiz_quiz_ls=[],this._quiz_quiz_ls_paths=[],this.mode="quiz"})}quiz_pass_one(s){w(()=>{this.quiz_quiz_ls.push(1),this.quiz_quiz_ls=this.quiz_quiz_ls,this._quiz_quiz_ls_paths.push(s)})}_quiz_quiz_ls_paths=[];quiz_fail_one(s){w(()=>{this.quiz_quiz_ls.push(-1),this.quiz_quiz_ls=this.quiz_quiz_ls,this._quiz_quiz_ls_paths.push(s)})}get quiz_pass(){return this.quiz_quiz_ls.filter(s=>s>0).length}get quiz_quiz_ls(){return this._quiz_quiz_ls[0]()}set quiz_quiz_ls(s){this._quiz_quiz_ls[1](s)}_quiz_quiz_ls;_quiz_deathmatch_fail;set quiz_deathmatch_fail_result(s){this._quiz_deathmatch_fail[1](s)}get quiz_deathmatch_fail_result(){return this._quiz_deathmatch_fail[0]()}_quiz_deathmatch_result_path;get quiz_deathmatch_result_path(){return this._quiz_deathmatch_result_path[0]()}set quiz_deathmatch_result_path(s){this._quiz_deathmatch_result_path[1](s)}restart_deathmatch(){w(()=>{this.flip_match_color(),this.quiz_deathmatch_fail_result=0,this.mode="quiz-deathmatch"})}end_deathmatch(){w(()=>{this.quiz_deathmatch_fail_result=0,this.mode="quiz",this.flip_match_color()})}constructor(){this._mode=R(void 0,{equals:!1}),this._match_color=R("white"),this._quiz_quiz_ls=R([],{equals:!1}),this._quiz_deathmatch_fail=R(0),this._quiz_deathmatch_result_path=R([]),this._practice_end_result=R(!1)}}const Ht=d=>(()=>{var s=st(),n=s.firstChild,u=n.firstChild,o=n.nextSibling,$=o.firstChild;return h(o,()=>d.width,$),U(S=>ae(u,`width: ${d.width}%`,S)),s})();class Vt{constructor(s){this.sections=s}get progress(){let s=this.sections.length;return this.sections.map(n=>Math.round(n.progress/s)).reduce((n,u)=>n+u)}section_by_name(s){return this.sections.find(n=>n.name===s)}}class Jt{constructor(s){this.chapters=s,this.m_progress=m(()=>{let n=this.chapters.length;return this.chapters.map(u=>Math.round(u.progress/n)).reduce((u,o)=>u+o)})}m_progress;get name(){return this.chapters[0].section}get progress(){return this.m_progress()}chapter_by_name(s){return this.chapters.find(n=>n.chapter===s)}}class K{constructor(s,n,u,o,$){this.study_id=s,this.section=n,this.chapter=u,this.score_tree=o,this.solved_paths=$}static load_from_store(s,n,u){let o=new Ee(s.id,n,u),$=s.sections.find(S=>S.name===n)?.chapters.find(S=>S.name===u)?.pgn.tree;if($)return K.make(s.id,n,u,$,me.set_for_saving(o.solved_paths))}static save_paths_to_store(s){let n=new Ee(s.study_id,s.section,s.chapter);n.solved_paths=s.solved_paths.get_for_saving(),n.practice_progress=s.progress}static make(s,n,u,o,$=new me){return new K(s,n,u,Ve.make(o),$)}get clone(){return new K(this.study_id,this.section,this.chapter,this.score_tree,this.solved_paths.clone)}get progress(){return Math.round(this.solved_paths.paths.map(s=>D(()=>this.score_tree.get_at(s)?.score)??0).reduce((s,n)=>s+n,0)*100)}get progress_map(){let s=D(()=>this.score_tree.progress_paths);const n=D(()=>s.map(u=>[u.filter(o=>o.length%2===1).map(o=>this.score_tree.get_at(o).score).reduce((o,$)=>o+$,0),u.filter(o=>o.length%2===0).map(o=>this.score_tree.get_at(o).score).reduce((o,$)=>o+$,0)]));return s.map((u,o)=>{let $=u[0],S=u[u.length-1],L=n[o][0],N=n[o][1],F=m(()=>this.solved_paths.paths),t=m(()=>F().filter(g=>u.some(E=>E.join("")===g.join("")))),y=m(()=>t().filter(g=>g.length%2===1).map(g=>this.score_tree.get_at(g).score).reduce((g,E)=>g+E,0)),a=m(()=>t().filter(g=>g.length%2===0).map(g=>this.score_tree.get_at(g).score).reduce((g,E)=>g+E,0));return{color:Ut($.length/20+S.length/10),total:L+N,black:m(()=>a()/N),white:m(()=>y()/L),path:S}}).reverse()}clone_merge_stats(s){let n=D(()=>this.clone);return n.solved_paths.merge_dup(s.solved_paths),n}merge_and_save_stats(s){this.solved_paths.merge_dup(s.solved_paths),this.save_stats()}save_stats(){K.save_paths_to_store(this)}}const _s=()=>{const d=je(),[s]=Qe(d.id,Ke.read_section_study);let[n,u]=R();return(()=>{var o=rt();return Ne($=>u($),o),h(o,p(Q,{get when(){return s()},fallback:"Loading...",get children(){return p(Xt,{get el_rep(){return n()},get section_study(){return s()}})}})),o})()},Xt=d=>{let s=m(()=>d.section_study.sections),n=new Xe(d.section_study.id),u=0,o=s().findIndex(z=>z.name===Ze.i_section);o===-1&&(o=s().findIndex(z=>z.name===n.i_section_name),o===-1?o=0:u=n.i_chapter_index);const[$,S]=R(o),L=m(()=>s()[$()]),N=m(()=>L().chapters),[F,t]=R(u),y=z=>{w(()=>{t(0),S(z)})};b(()=>{n.i_section_name=L().name}),b(()=>{n.i_chapter_index=F()});const a=m(()=>N()[F()]);let g=m(()=>{const z=d.section_study;return new Vt(z.sections.map(P=>new Jt(P.chapters.map(q=>K.load_from_store(z,P.name,q.name)))))});const E=new et(d.section_study.id);b(()=>{E.progress=g().progress}),b(()=>{E.sections_progress=g().sections.map(z=>[z.name,z.progress])});const ie=Ye(),te=()=>{xe.delete_imported_study(d.section_study.id),console.log("done"),ie("/repertoires")},J=()=>{xe.clear_progress(d.section_study.id),console.log("done"),location.reload()};return[(()=>{var z=at(),P=z.firstChild,q=P.firstChild,A=q.nextSibling,se=A.firstChild,le=P.nextSibling,ne=le.firstChild;return h(P,()=>d.section_study.name,q),h(A,()=>g().progress,se),h(ne,p(ee,{get each(){return s()},children:(W,Y)=>(()=>{var B=nt(),I=B.firstChild,C=I.nextSibling,X=C.firstChild,Z=X.nextSibling,re=Z.firstChild,r=C.nextSibling;return C.$$click=()=>y(Y()),h(C,()=>W.name,X),h(Z,()=>g().section_by_name(W.name).progress,re),h(r,p(ee,{get each(){return W.chapters},children:(l,v)=>(()=>{var f=_t(),T=f.firstChild,k=T.firstChild,H=k.firstChild,G=k.nextSibling,j=G.nextSibling;return j.nextSibling,f.$$click=()=>t(v()),h(k,()=>v()+1,H),h(T,()=>l.name,j),h(f,p(Ht,{get width(){return g().section_by_name(W.name).chapter_by_name(l.name).progress}}),null),U(()=>M(f,"chapter"+(v()===F()?" active":""))),f})()})),U(l=>{var v=`accordion-${Y()}`,f=$()===Y()?"active":"",T=`accordion-${Y()}`;return v!==l.e&&Se(I,"id",l.e=v),f!==l.t&&M(C,l.t=f),T!==l.a&&Se(C,"for",l.a=T),l},{e:void 0,t:void 0,a:void 0}),U(()=>I.checked=$()===Y()),B})()})),z})(),p(Zt,{get el_rep(){return d.el_rep},get stats(){return g().section_by_name(L().name).chapter_by_name(a().name)},get study(){return d.section_study},get section(){return L()},get chapter(){return a()}}),(()=>{var z=lt(),P=z.firstChild;return h(z,p(Q,{get when(){return d.section_study.imported},get children(){var q=it();return q.$$click=()=>te(),q}}),P),P.$$click=()=>J(),z})()]},Zt=d=>{const s=Oe();s.setVolume(.2);const n=m(()=>d.study),u=m(()=>d.section),o=m(()=>d.chapter),$=m(()=>n().name),S=m(()=>u().name),L=m(()=>o().name),N=m(()=>o().pgn),F=m(()=>N().tree.initial_color);let t=new Bt,y=new Ue;const a=m(()=>(t.mode,Be.make(N().tree.clone))),g=m(()=>{let r=a().tree;return D(()=>K.make($(),S(),L(),r,new me))});let E=m(()=>d.stats);const[ie,te]=R(!1),J=m(()=>{if(t.mode==="quiz-quiz")return t.i_quiz_quiz===16});let z=m(()=>{let r=E(),l=g(),v=D(()=>r.progress);return r.clone_merge_stats(l).progress-v});const P=m(()=>g().progress_map);let[q,A]=R(!1);const se=r=>{let l=t.mode;if(r==="practice"){if(l===void 0||l==="match"||l==="moves")return" active"}else if(l==="quiz"||l==="quiz-quiz"||l==="quiz-deathmatch")return" active";return""},le=m(()=>t.mode!==void 0&&!J()&&!t.practice_end_result&&!t.quiz_deathmatch_fail_result),ne=m(()=>a().collect_branch_sums(a().cursor_path)),W=m(O(()=>t.quiz_deathmatch_result_path,r=>{let l=r.length,v=a().tree?.all_leaves.map(f=>f.path).filter(f=>!a().failed_paths.find(T=>T.join("")===f.join(""))).filter(f=>f.join("").startsWith(r.join("")))[0]?.length;return`${l} out of ${v}`}));b(()=>{if(t.mode==="quiz-quiz"){let r=J();t.quiz_quiz_ls[t.quiz_quiz_ls.length-1]<0&&(te(!0),setTimeout(()=>{te(!1)},500)),r?(s.play("victory"),D(()=>{a().clear_failed_paths(),a()._hidden_paths.clear()})):(A(!0),setTimeout(()=>{w(()=>D(()=>{a().set_random_cursor_hide_rest(),t.match_color=a().cursor_after_color;let v=a().cursor_path;C(v.slice(0,-1)),setTimeout(()=>{a().cursor_path=v,A(!1)},200)}))},100))}}),b(()=>{let{mode:r,match_color:l}=t;r==="quiz-deathmatch"&&l!==F()&&setTimeout(()=>{D(()=>{a().reveal_one_random()})},400)}),b(()=>{a().solved_paths.replace_all(E().solved_paths)}),b(()=>{D(()=>g()).solved_paths.replace_all(a().solved_paths)}),b(O(()=>[E(),g()],(r,l)=>{if(l){let[v,f]=l;v.merge_and_save_stats(f)}})),b(O(()=>y.add_uci,r=>{if(q()||!r)return;a().try_next_uci_fail(r)?(Y(),t.mode==="quiz-quiz"&&t.quiz_pass_one(a().cursor_path)):((t.mode==="match"||t.mode==="moves")&&(A(!0),setTimeout(()=>{a().on_wheel(-1),A(!1)},100)),t.mode==="quiz-quiz"&&(t.quiz_fail_one(a().cursor_path.slice(0,-1)),s.play("error")),t.mode==="quiz-deathmatch"&&(t.quiz_deathmatch_fail_result=-1,t.quiz_deathmatch_result_path=a().cursor_path.slice(0,-1),a()._hidden_paths.clear()))})),b(O(()=>t.quiz_deathmatch_fail_result,r=>{(r>0||r<0)&&s.play("victory")})),b(O(()=>t.practice_end_result,r=>{r&&s.play("victory")})),b(()=>{let{mode:r,match_color:l}=t;r==="match"&&l==="black"&&D(()=>{Y()})}),b(O(()=>a().fen_last_move,r=>{if(r){let[l,v]=r;y.on_set_fen_uci(l,v)}else y.on_set_fen_uci(N().fen??Je)}));const Y=()=>{let r=()=>a().is_cursor_path_at_a_leaf;r()?t.mode==="quiz-deathmatch"?(t.quiz_deathmatch_fail_result=1,t.quiz_deathmatch_result_path=a().cursor_path):(t.mode==="match"||t.mode==="moves")&&(t.practice_end_result=!0):(t.mode==="match"||t.mode==="quiz-deathmatch")&&(A(!0),setTimeout(()=>{a().reveal_one_random(),r()&&(t.mode==="quiz-deathmatch"?(t.quiz_deathmatch_fail_result=1,t.quiz_deathmatch_result_path=a().cursor_path):(t.mode==="match"||t.mode==="moves")&&(t.practice_end_result=!0)),A(!1)},400))};b(()=>{t.match_color=n().orientation??"white"});let B=!1;b(O(()=>a().tree?.get_at(a().cursor_path),r=>{if(r){if(B){B=!1;return}s.move(r)}}));const I=r=>{q()||(t.mode=r)},C=r=>{B=!0,a().cursor_path=r};b(O(()=>y.on_wheel,r=>{r&&a().on_wheel(r)}));const X=r=>{r.key==="f"&&t.flip_match_color()};Ce(()=>{document.addEventListener("keypress",X)}),de(()=>{document.removeEventListener("keypress",X)});const Z=r=>{r.key==="ArrowLeft"&&y.set_on_wheel(-1),r.key==="ArrowRight"&&y.set_on_wheel(1),r.key==="ArrowUp"&&a().can_navigate_up&&a().navigate_up(),r.key==="ArrowDown"&&a().can_navigate_down&&a().navigate_down()};Ce(()=>{document.addEventListener("keydown",Z)}),de(()=>{document.removeEventListener("keydown",Z)});const re=tt(r=>{const l=r.target;l.tagName!=="PIECE"&&l.tagName!=="SQUARE"&&l.tagName!=="CG-BOARD"||(r.preventDefault(),y.set_on_wheel(Math.sign(r.deltaY)))});return b(()=>{const r=d.el_rep;r&&(r.addEventListener("wheel",re,{passive:!1}),de(()=>{r.removeEventListener("wheel",re)}))}),[(()=>{var r=ot();return h(r,p(We,{get orientation(){return t.match_color},get movable(){return le()},get doPromotion(){return y.promotion},get onMoveAfter(){return y.on_move_after},get fen_uci(){return y.fen_uci},get color(){return y.turnColor},get dests(){return y.dests}})),r})(),(()=>{var r=ct();return h(r,p(ee,{get each(){return P()},children:l=>(()=>{var v=xt(),f=v.firstChild,T=f.nextSibling;return v.$$click=k=>a().try_set_cursor_path(l.path),U(k=>{var H=`background: ${l.color}; height: ${l.total*100}%`,G=`height: ${l.white()*100}%`,j=`height: ${l.black()*100}%`;return k.e=ae(v,H,k.e),k.t=ae(f,G,k.t),k.a=ae(T,j,k.a),k},{e:void 0,t:void 0,a:void 0}),v})()})),r})(),(()=>{var r=Ct(),l=r.firstChild,v=l.firstChild,f=v.firstChild,T=f.nextSibling,k=l.nextSibling,H=k.firstChild,G=H.nextSibling,j=G.firstChild,_e=j.nextSibling,pe=G.nextSibling,oe=pe.firstChild,ce=oe.nextSibling,he=ce.nextSibling,ge=he.nextSibling,Ae=pe.nextSibling,ve=Ae.firstChild,ue=ve.firstChild,fe=ue.nextSibling,Ie=ve.nextSibling;return h(f,S),h(T,L),h(H,p(He,{get lala(){return a()}})),j.$$click=()=>a().navigate_up(),_e.$$click=()=>a().navigate_down(),h(G,p(ee,{get each(){return ne()},children:e=>(()=>{var _=Mt();return _.$$click=()=>a().try_set_cursor_path(e.path),h(_,p(Q,{get when(){return e.ply&1},get children(){var c=Et();return h(c,()=>Wt(e.ply)),c}}),null),h(_,()=>e.san,null),_})()}),null),oe.$$click=()=>a().navigate_first(),ce.$$click=()=>a().navigate_prev(),he.$$click=()=>a().navigate_next(),ge.$$click=()=>a().navigate_last(),ue.$$click=()=>t.end_match_or_moves(),fe.$$click=()=>I("quiz"),h(Ie,p(Fe,{get children(){return[p(V,{get when(){return t.mode==="quiz"},get children(){return[Me(),ht(),(()=>{var e=ut(),_=e.firstChild,c=_.nextSibling;return _.$$click=()=>I("quiz-quiz"),c.$$click=()=>I("quiz-deathmatch"),e})()]}}),p(V,{get when(){return t.mode==="quiz-deathmatch"},get children(){return[dt(),p(Q,{get when(){return t.quiz_deathmatch_fail_result!==0},get fallback(){return[Pt(),Tt(),(()=>{var e=Dt(),_=e.firstChild;return _.$$click=()=>{w(()=>{let c=a().cursor_path.slice(0,-1);t.end_deathmatch(),a()._hidden_paths.clear(),C(c)})},e})()]},get children(){return[(()=>{var e=mt();return e.firstChild,h(e,p(Q,{get when(){return t.quiz_deathmatch_fail_result>0},get fallback(){return Le()},get children(){return[" ",Pe()]}}),null),e})(),(()=>{var e=pt();return e.firstChild,h(e,W,null),e})(),(()=>{var e=Te(),_=e.firstChild,c=_.nextSibling;return c.nextSibling,h(e,z,c),e})(),(()=>{var e=gt(),_=e.firstChild,c=_.nextSibling;return _.$$click=()=>t.restart_deathmatch(),c.$$click=()=>{w(()=>{let x=a().cursor_path.slice(0,-1);t.end_deathmatch(),a()._hidden_paths.clear(),C(x)})},e})()]}})]}}),p(V,{get when(){return t.mode==="quiz-quiz"},get children(){return p(Q,{get when(){return J()},get fallback(){return[Rt(),Lt(),At(),(()=>{var e=It(),_=e.firstChild;return h(e,()=>t.i_quiz_quiz,_),U(()=>M(e,ie()?"error":"")),e})(),(()=>{var e=jt(),_=e.firstChild;return _.$$click=()=>{w(()=>{let c=a().cursor_path;t.end_quiz(),a()._hidden_paths.clear(),C(c)})},e})()]},get children(){return[(()=>{var e=vt();return e.firstChild,h(e,p(Q,{get when(){return t.quiz_pass>10},get fallback(){return Le()},get children(){return[" ",Pe()]}}),null),e})(),(()=>{var e=ft(),_=e.firstChild,c=_.nextSibling;return c.nextSibling,h(e,()=>t.quiz_pass,c),e})(),(()=>{var e=Te(),_=e.firstChild,c=_.nextSibling;return c.nextSibling,h(e,z,c),e})(),(()=>{var e=$t();return h(e,p(ee,{get each(){return t.quiz_quiz_ls},children:(_,c)=>(()=>{var x=Qt();return x.$$click=()=>a().cursor_path=t._quiz_quiz_ls_paths[c()],M(x,"move "+(_>0?"success":"error")),h(x,()=>c()+1),x})()})),e})(),(()=>{var e=zt(),_=e.firstChild,c=_.nextSibling;return _.$$click=()=>t.restart_quiz(),c.$$click=()=>{w(()=>{let x=a().cursor_path;t.end_quiz(),a()._hidden_paths.clear(),C(x)})},e})()]}})}}),p(V,{get when(){return t.mode===void 0},get children(){return[Me(),qt(),(()=>{var e=bt(),_=e.firstChild,c=_.nextSibling;return _.$$click=()=>I("moves"),c.$$click=()=>I("match"),e})()]}}),p(V,{get when(){return t.mode==="match"},get children(){return[yt(),p(Q,{get when(){return t.practice_end_result},get fallback(){return[(()=>{var e=Nt(),_=e.firstChild,c=_.nextSibling;return c.nextSibling,h(e,()=>t.match_color,c),e})(),Yt(),Ot()]},get children(){return[De(),Re()]}}),(()=>{var e=wt(),_=e.firstChild,c=_.nextSibling;return _.$$click=()=>t.restart_match(),c.$$click=()=>{let x=a().cursor_path;t.end_match_or_moves(),a()._hidden_paths.clear(),C(x)},e})()]}}),p(V,{get when(){return t.mode==="moves"},get children(){return[kt(),p(Q,{get when(){return t.practice_end_result},get fallback(){return[Ft(),Gt()]},get children(){return[De(),Re()]}}),(()=>{var e=St(),_=e.firstChild,c=_.nextSibling;return _.$$click=()=>{t.restart_moves()},c.$$click=()=>t.end_match_or_moves(),e})()]}})]}})),U(e=>{var _=q()||!a().can_navigate_up,c="fbt prev"+(!q()&&a().can_navigate_up?"":" disabled"),x=q()||!a().can_navigate_down,$e="fbt prev"+(!q()&&a().can_navigate_down?"":" disabled"),ze="fbt first"+(!q()&&a().can_navigate_prev?"":" disabled"),qe="fbt prev"+(!q()&&a().can_navigate_prev?"":" disabled"),be="fbt next"+(!q()&&a().can_navigate_next?"":" disabled"),ye="fbt last"+(!q()&&a().can_navigate_next?"":" disabled"),we="tab"+se("practice"),ke="tab"+se("quiz");return _!==e.e&&(j.disabled=e.e=_),c!==e.t&&M(j,e.t=c),x!==e.a&&(_e.disabled=e.a=x),$e!==e.o&&M(_e,e.o=$e),ze!==e.i&&M(oe,e.i=ze),qe!==e.n&&M(ce,e.n=qe),be!==e.s&&M(he,e.s=be),ye!==e.h&&M(ge,e.h=ye),we!==e.r&&M(ue,e.r=we),ke!==e.d&&M(fe,e.d=ke),e},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0,n:void 0,s:void 0,h:void 0,r:void 0,d:void 0}),r})()]};Ge(["click"]);export{_s as default};
