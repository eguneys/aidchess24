import{a as x,i,c as _,u as y,S as w,d as C,t as a,b as S,F as k,R as f}from"./index-DlyBWq7Z.js";var b=a("<div class=category><h1></h1><ul>"),I=a("<li class=soon><h3></h3><span>Coming Soon"),N=a("<li><h3>"),P=a('<input style=padding:0.2em;margin:0.2em; type=text placeholder="Short Id">'),F=a('<textarea placeholder="Paste Study PGN"rows=10 cols=40>'),G=a("<div class=repertoires><div class=categories><div class=category><h1>Import New Study </h1><div style=display:flex;flex-flow:column;gap:0.2em;><button style=align-self:flex-end;padding:1em;>Import"),R=a('<input style=padding:0.2em;margin:0.3em; type=text placeholder="lichess study link">'),A=a("<a style=cursor:pointer;> or Paste PGN ");const v=o=>{const m=S();return(()=>{var n=b(),u=n.firstChild,g=u.nextSibling;return i(u,()=>o.name),i(g,_(k,{get each(){return o.list},children:l=>_(w,{get fallback(){return(()=>{var r=N(),e=r.firstChild;return r.$$click=()=>m(`/${l.category.toLowerCase()}/${l.study_id}`),i(e,()=>l.study_name),r})()},get when(){return l.study_id===""},get children(){var r=I(),e=r.firstChild;return i(e,()=>l.study_name),r}})})),n})()};function L(){let o=f;const m=async()=>{let e;if(l()){let s=g.value;if(e=u.value,s.length<3||s.length>20||e.length<30)return;f.save_import_pgn(s,e)}else{let d=n.value.match(/https:\/\/lichess.org\/study\/(\w*)\/?/);if(!d){n.value="Incorrect lichess study";return}let $=d[0],p=d[1];e=await fetch(`https://lichess.org/api/study/${p}.pgn`).then(h=>h.text()),f.save_import_pgn(p,e,$)}window.location.reload()};let n,u,g;const[l,r]=x(!1);return(()=>{var e=G(),s=e.firstChild,d=s.firstChild,$=d.firstChild,p=$.nextSibling,h=p.firstChild;return i(p,_(w,{get when(){return l()},get fallback(){return[(()=>{var t=R();return y(c=>n=c,t),t})(),(()=>{var t=A();return t.$$click=()=>{r(!0)},t})()]},get children(){return[(()=>{var t=P();return y(c=>g=c,t),t})(),(()=>{var t=F();return y(c=>u=c,t),t})()]}}),h),h.$$click=()=>m(),i(s,_(v,{name:"Imported",get list(){return o.imported[0]()}}),null),i(s,_(v,{name:"Auto Generated",get list(){return o.openings}}),null),e})()}C(["click"]);export{L as default};
