var w=Object.defineProperty;var b=(s,t,e)=>t in s?w(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e;var c=(s,t,e)=>(b(s,typeof t!="symbol"?t+"":t,e),e);import{P as y}from"./chess_pgn_logic-DaQm5gZ9.js";const P=(s,t,e,n)=>{let i=y.make_many(s).map(a=>{var d;let o=(d=a.site)!=null&&d.includes("http")?a.site:`https://lichess.org/study/${t}`,l=a.event,r;if(l!=null&&l.includes(": "))[e,r]=l.split(": ");else if(a.white!=="?"){let g=a.white,_=a.black;r=`${g} vs ${_} at ${l}`}else r=l;return{name:r,site:o,pgn:a}});return{id:t,name:e,orientation:n,chapters:i}},k=(s,t,e,n)=>{let i=[];return y.make_many(s).map(a=>{let o=a.section,l=a.chapter,r=i.find(d=>d.name===o);r||i.push(r={name:o,chapters:[]}),r==null||r.chapters.push({name:l,pgn:a})}),{id:t,name:e,orientation:n,sections:i}},D=(s,t,e)=>fetch(`pgns/${s}.pgn`).then(n=>n.text()).then(n=>P(n,s,t,e)),$=(s,t,e)=>fetch(`pgns/${s}.section.pgn`).then(n=>n.text()).then(n=>k(n,s,t,e)),h=class h{read_section_study(t){let{study_name:e,orientation:n}=f.study_by_id(t);return $(t,e,n)}read_study(t){let{study_name:e,orientation:n}=f.study_by_id(t);return D(t,e,n)}};c(h,"init",()=>new h);let u=h;const M=u.init(),z={Openings:[["Berlin Defence","berlin","white"],["Slav Defense","slav","black"],["Caro-Kann Defense","caro-kann","white"],["Petroff Defense","petroff","white"],["Philidor Defence","philidor","white"],["Accelerated Dragon","accelerated-dragon","white"],["Caro Kann","","white"],["Four-Knights","","white"],["Sicilian Defense","","white"],["French Defense","","black"]],Masters:[["Bobby Fischer 60 Memorable Games","",60],["Magnus Carlsen 2023",""],["Tata Steel 2023",""]],Tactics:[["50 Puzzles 1600","",50],["50 Puzzles 2000","",50],["50 Puzzles 2200","",50]],Endgames:[["100 Endgames You Must Know",""],["King and Pawn Endgames",""]]},m=class m{constructor(){c(this,"all");c(this,"openings");c(this,"masters");c(this,"tactics");c(this,"endgames");c(this,"recent");c(this,"completed")}study_by_id(t){return this.all.find(n=>n.study_link===t)}};c(m,"init",()=>{function t(n){return z[n].map(i=>({category:n,study_name:i[0],study_link:i[1],nb_chapters:i[2],orientation:i[3]}))}let e=new m;return e.openings=t("Openings"),e.masters=t("Masters"),e.tactics=t("Tactics"),e.endgames=t("Endgames"),e.all=[...e.openings,...e.masters,...e.tactics,...e.endgames],e.recent=[],e.completed=[],e});let p=m;const f=p.init();export{f as R,M as S};
