import{i,c as o,u as _,d as $,t as d,a as f,S as y,F as v}from"./index-DvOnxsF_.js";import{R as g}from"./studyrepo-CHfHmhdT.js";import"./chess_pgn_logic-DWOrzBUn.js";var w=d("<div class=category><h1></h1><ul>"),x=d("<li class=soon><h3></h3><span>Coming Soon"),C=d("<li><h3>"),k=d('<div class=repertoires><div class=categories><div class=category><h1>Import New Study </h1><div style=display:flex;flex-flow:column;gap:0.2em;><input style=padding:0.2em;margin:0.3em; type=text placeholder="lichess study link"><button style=align-self:flex-end;padding:1em;>Import');const u=s=>{const c=f();return(()=>{var n=w(),a=n.firstChild,l=a.nextSibling;return i(a,()=>s.name),i(l,o(v,{get each(){return s.list},children:e=>o(y,{get fallback(){return(()=>{var t=C(),r=t.firstChild;return t.$$click=()=>c(`/${e.category.toLowerCase()}/${e.study_link}`),i(r,()=>e.study_name),t})()},get when(){return e.study_link===""},get children(){var t=x(),r=t.firstChild;return i(r,()=>e.study_name),t}})})),n})()};function F(){let s=g;const c=async()=>{let l=n.value.match(/lichess.org\/study\/(\w*)\/?/);if(!l){n.value="Incorrect lichess study";return}let e=l[1],t=await fetch(`https://lichess.org/api/study/${e}.pgn`).then(r=>r.text());g.save_import_pgn(e,t),window.location.reload()};let n;return(()=>{var a=k(),l=a.firstChild,e=l.firstChild,t=e.firstChild,r=t.nextSibling,p=r.firstChild,m=p.nextSibling;return i(l,o(u,{name:"Openings",get list(){return s.openings}}),e),i(l,o(u,{name:"Masters",get list(){return s.masters}}),e),i(l,o(u,{name:"Imported",get list(){return s.imported[0]()}}),e),_(h=>n=h,p),m.$$click=()=>c(),a})()}$(["click"]);export{F as default};
