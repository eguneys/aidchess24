import{l as Qe,m as Ne,a as L,b as Ye,i as u,c as v,S as j,g as m,n as b,e as Oe,u as Fe,j as B,s as pe,F as ee,k as R,o as Ue,p as T,q as U,r as Ee,v as ve,w as ne,M as W,x as k,h as Be,d as Ge,t as i,y as Ke,R as We,I as He}from"./index-DKf-PiWO.js";/* empty css                   */import{S as Ve,R as ge}from"./studyrepo-D2P3rfiz.js";import{S as Je,C as Xe}from"./Chessboard-y29EJ1B8.js";import{T as Ze,a as fe,t as et,C as tt}from"./Chesstree2-B5jLr7a2.js";import{O as st,S as rt,D as at,a as Pe}from"./SessionStore-DIM9iqB0.js";import{s as it}from"./scroll-DnAhRpRC.js";import{a as lt,p as nt}from"./ChessTreeWithTools-DE5Xikqb.js";var _t=i("<div class=progress-wrap><div class=progress><div class=bar></div></div><h5>%"),ot=i("<div class=repertoire>"),ct=i("<div class=sections-wrap><h2 class=title> <span>%</span></h2><div class=info></div><div class=sections-scroll><div class=sections>"),ut=i("<a class=update>Update Study"),ht=i("<a class=delete> Delete Study "),dt=i("<div class=tools><a class=delete> Clear Progress "),mt=i("<a target=_blank>lichess"),pt=i("<div class=section><input type=radio name=accordion><label> <span class=progress>%</span></label><div class=chapters>"),vt=i("<div><div class=title><span class=no>.</span> <!> "),gt=i("<div class=board-wrap>"),ft=i("<div class=eval-gauge>"),Me=i("<small> Click on variations to expand. "),$t=i("<small> Your goal is to guess every move correctly to pass the quiz. "),zt=i("<div class=in_mode><button><span> Take Quiz </span></button><button><span> Play Deathmatch "),qt=i("<h2>Deathmatch Mode"),De=i("<span class=passed>passed"),bt=i("<small> Deathmatch "),yt=i("<small> Your score: "),Re=i("<small> Progress +<!>% "),wt=i("<div class=in_mode><button><span> Restart Deathmatch </span></button><button class=end2><span> End Deathmatch "),kt=i("<small> Quiz "),St=i("<small> Your score: <!> out of 15 correct"),xt=i("<div class=past>"),Ct=i("<div class=in_mode><button><span> Restart Quiz </span></button><button class=end2><span> End Quiz "),Et=i("<small> Your goal is to guess every move correctly to fill up the progress bar. "),Pt=i("<div class=in_mode><button><span> Play all Moves </span></button><button><span> Play as Match "),Mt=i("<h2>Play as Match"),Te=i("<small> End of practice. "),Le=i("<small> Congratulations. "),Dt=i("<div class=in_mode><button><span> Rematch </span></button><button class=end2><span> End Practice "),Rt=i("<h2>Play all moves"),Tt=i("<div class=in_mode><button><span> Clear </span></button><button class=end2><span> End Practice "),Lt=i("<div class=replay-wrap><div class=replay-header><div class=title><h4></h4><h5></h5></div></div><div class=replay><div class=replay-v></div><div class=branch-sums><button data-icon=></button><button data-icon=></button></div><div class=replay-jump><button data-icon=></button><button data-icon=></button><button data-icon=></button><button data-icon=></button></div><div class=tools><div class=tabs><h3>Practice</h3><h3>Quiz</h3></div><div class=content>"),At=i('<div class=line><span class="fill white"></span><span class="fill black">'),It=i("<span class=index>"),jt=i("<div class=fbt>"),Qt=i("<small>You will play the moves from the opening."),Nt=i("<small>If you go out of book, game ends."),Yt=i("<div class=in_mode><button class=end2><span> End Deathmatch "),Ae=i("<span class=failed>failed"),Ot=i("<h3>Quiz Mode"),Ft=i("<small>You are given 15 random positions from the opening."),Ut=i("<small>Guess the correct move."),Bt=i("<h2> of 15"),Gt=i("<div class=in_mode><button class=end2><span> End Quiz "),Kt=i("<span>"),Wt=i("<small> Try to guess the moves for <!>."),Ht=i("<small> AI will play the next move, picking a random variation. "),Vt=i("<small> Moves will be hidden once the game is started. "),Jt=i("<small>Try to guess the moves for both sides."),Xt=i("<small>Moves will be hidden once you start.");const Zt=["#afacc6","#0d2b45","#203c56","#544e68","#8d697a","#d08159"],es=h=>Zt[Math.floor((1-h/10)*6)];class ts{_mode;get mode(){return this._mode[0]()}set mode(r){this._mode[1](r)}_match_color;get match_color(){return this._match_color[0]()}set match_color(r){this._match_color[1](r)}flip_match_color(){this.match_color=this.match_color==="white"?"black":"white"}_practice_end_result;get practice_end_result(){return this._practice_end_result[0]()}set practice_end_result(r){this._practice_end_result[1](r)}get i_quiz_quiz(){return this.quiz_quiz_ls.length+1}restart_match(){k(()=>{this.practice_end_result=!1,this.mode="match",this.flip_match_color()})}restart_moves(){k(()=>{this.practice_end_result=!1,this.mode="moves",this.flip_match_color()})}end_match_or_moves(){k(()=>{this.practice_end_result=!1,this.mode=void 0})}restart_quiz(){k(()=>{this.quiz_quiz_ls=[],this._quiz_quiz_ls_paths=[],this.mode="quiz-quiz"})}end_quiz(){k(()=>{this.quiz_quiz_ls=[],this._quiz_quiz_ls_paths=[],this.mode="quiz"})}quiz_pass_one(r){k(()=>{this.quiz_quiz_ls.push(1),this.quiz_quiz_ls=this.quiz_quiz_ls,this._quiz_quiz_ls_paths.push(r)})}_quiz_quiz_ls_paths=[];quiz_fail_one(r){k(()=>{this.quiz_quiz_ls.push(-1),this.quiz_quiz_ls=this.quiz_quiz_ls,this._quiz_quiz_ls_paths.push(r)})}get quiz_pass(){return this.quiz_quiz_ls.filter(r=>r>0).length}get quiz_quiz_ls(){return this._quiz_quiz_ls[0]()}set quiz_quiz_ls(r){this._quiz_quiz_ls[1](r)}_quiz_quiz_ls;_quiz_deathmatch_fail;set quiz_deathmatch_fail_result(r){this._quiz_deathmatch_fail[1](r)}get quiz_deathmatch_fail_result(){return this._quiz_deathmatch_fail[0]()}_quiz_deathmatch_result_path;get quiz_deathmatch_result_path(){return this._quiz_deathmatch_result_path[0]()}set quiz_deathmatch_result_path(r){this._quiz_deathmatch_result_path[1](r)}restart_deathmatch(){k(()=>{this.flip_match_color(),this.quiz_deathmatch_fail_result=0,this.mode="quiz-deathmatch"})}end_deathmatch(){k(()=>{this.quiz_deathmatch_fail_result=0,this.mode="quiz",this.flip_match_color()})}constructor(){this._mode=L(void 0,{equals:!1}),this._match_color=L("white"),this._quiz_quiz_ls=L([],{equals:!1}),this._quiz_deathmatch_fail=L(0),this._quiz_deathmatch_result_path=L([]),this._practice_end_result=L(!1)}}const ss=h=>(()=>{var r=_t(),n=r.firstChild,d=n.firstChild,o=n.nextSibling,$=o.firstChild;return u(o,()=>h.width,$),B(x=>ne(d,`width: ${h.width}%`,x)),r})();class rs{constructor(r){this.sections=r}get progress(){let r=this.sections.length;return this.sections.map(n=>Math.round(n.progress/r)).reduce((n,d)=>n+d)}section_by_name(r){return this.sections.find(n=>n.name===r)}}class as{constructor(r){this.chapters=r,this.m_progress=m(()=>{let n=this.chapters.length;return this.chapters.map(d=>Math.round(d.progress/n)).reduce((d,o)=>d+o)})}m_progress;get name(){return this.chapters[0].section}get progress(){return this.m_progress()}chapter_by_name(r){return this.chapters.find(n=>n.chapter===r)}}class G{constructor(r,n,d,o,$){this.study_id=r,this.section=n,this.chapter=d,this.score_tree=o,this.solved_paths=$}static load_from_store(r,n,d){let o=new Pe(r.id,n,d),$=r.sections.find(x=>x.name===n)?.chapters.find(x=>x.name===d)?.pgn.tree;if($)return G.make(r.id,n,d,$,fe.set_for_saving(o.solved_paths))}static save_paths_to_store(r){let n=new Pe(r.study_id,r.section,r.chapter);n.solved_paths=r.solved_paths.get_for_saving(),n.practice_progress=r.progress}static make(r,n,d,o,$=new fe){return new G(r,n,d,Ke.make(o),$)}get clone(){return new G(this.study_id,this.section,this.chapter,this.score_tree,this.solved_paths.clone)}get progress(){return Math.round(this.solved_paths.paths.map(r=>T(()=>this.score_tree.get_at(r)?.score)??0).reduce((r,n)=>r+n,0)*100)}get progress_map(){let r=T(()=>this.score_tree.progress_paths);const n=T(()=>r.map(d=>[d.filter(o=>o.length%2===1).map(o=>this.score_tree.get_at(o).score).reduce((o,$)=>o+$,0),d.filter(o=>o.length%2===0).map(o=>this.score_tree.get_at(o).score).reduce((o,$)=>o+$,0)]));return r.map((d,o)=>{let $=d[0],x=d[d.length-1],A=n[o][0],Y=n[o][1],O=m(()=>this.solved_paths.paths),t=m(()=>O().filter(g=>d.some(P=>P.join("")===g.join("")))),y=m(()=>t().filter(g=>g.length%2===1).map(g=>this.score_tree.get_at(g).score).reduce((g,P)=>g+P,0)),a=m(()=>t().filter(g=>g.length%2===0).map(g=>this.score_tree.get_at(g).score).reduce((g,P)=>g+P,0));return{color:es($.length/20+x.length/10),total:A+Y,black:m(()=>a()/Y),white:m(()=>y()/A),path:x}}).reverse()}clone_merge_stats(r){let n=T(()=>this.clone);return n.solved_paths.merge_dup(r.solved_paths),n}merge_and_save_stats(r){this.solved_paths.merge_dup(r.solved_paths),this.save_stats()}save_stats(){G.save_paths_to_store(this)}}const ps=()=>{const h=Qe(),[r]=Ne(h.id,Ve.read_section_study);let[n,d]=L();return(()=>{var o=ot();return Ye($=>d($),o),u(o,v(j,{get when(){return r()},fallback:"Loading...",get children(){return v(is,{get el_rep(){return n()},get section_study(){return r()}})}})),o})()},is=h=>{let r=m(()=>h.section_study.sections),n=new st(h.section_study.id),d=0,o=r().findIndex(p=>p.name===rt.i_section);o===-1&&(o=r().findIndex(p=>p.name===n.i_section_name),o===-1?o=0:d=n.i_chapter_index);const[$,x]=L(o),A=m(()=>r()[$()]),Y=m(()=>A().chapters),[O,t]=L(d),y=p=>{k(()=>{t(0),x(p)})};b(()=>{n.i_section_name=A().name}),b(()=>{n.i_chapter_index=O()});const a=m(()=>Y()[O()]);let g=m(()=>{const p=h.section_study;return new rs(p.sections.map(w=>new as(w.chapters.map(C=>G.load_from_store(p,w.name,C.name)))))});const P=new at(h.section_study.id);b(()=>{P.progress=g().progress}),b(()=>{P.sections_progress=g().sections.map(p=>[p.name,p.progress])});const _e=Oe(),te=async()=>{await ge.update_imported_study(h.section_study.id),location.reload()},H=Fe(We),se=()=>{H.remove_study_by_lichess_id(h.section_study.id),ge.delete_imported_study(h.section_study.id),_e("/repertoires")},oe=()=>{ge.clear_progress(h.section_study.id),console.log("done"),location.reload()};return[(()=>{var p=ct(),w=p.firstChild,C=w.firstChild,re=C.nextSibling,ce=re.firstChild,ae=w.nextSibling,ie=ae.nextSibling,V=ie.firstChild;return u(w,()=>h.section_study.name,C),u(re,()=>g().progress,ce),u(ae,v(j,{get when(){return h.section_study.import_lichess_link},children:M=>[(()=>{var S=mt();return B(()=>pe(S,"href",M())),S})()," "]})),u(V,v(ee,{get each(){return r()},children:(M,S)=>(()=>{var J=pt(),K=J.firstChild,Q=K.nextSibling,le=Q.firstChild,s=le.nextSibling,l=s.firstChild,z=Q.nextSibling;return Q.$$click=()=>y(S()),u(Q,()=>M.name,le),u(s,()=>g().section_by_name(M.name).progress,l),u(z,v(ee,{get each(){return M.chapters},children:(f,D)=>(()=>{var q=vt(),I=q.firstChild,N=I.firstChild,F=N.firstChild,X=N.nextSibling,Z=X.nextSibling;return Z.nextSibling,q.$$click=()=>t(D()),u(N,()=>D()+1,F),u(I,()=>f.name,Z),u(q,v(ss,{get width(){return g().section_by_name(M.name).chapter_by_name(f.name).progress}}),null),B(()=>R(q,"chapter"+(D()===O()?" active":""))),q})()})),B(f=>{var D=`accordion-${S()}`,q=$()===S()?"active":"",I=`accordion-${S()}`;return D!==f.e&&pe(K,"id",f.e=D),q!==f.t&&R(Q,f.t=q),I!==f.a&&pe(Q,"for",f.a=I),f},{e:void 0,t:void 0,a:void 0}),B(()=>K.checked=$()===S()),J})()})),p})(),v(ls,{get el_rep(){return h.el_rep},get stats(){return g().section_by_name(A().name).chapter_by_name(a().name)},get study(){return h.section_study},get section(){return A()},get chapter(){return a()}}),(()=>{var p=dt(),w=p.firstChild;return u(p,v(j,{get when(){return h.section_study.import_lichess_link||h.section_study.import_pgn},get children(){return[(()=>{var C=ut();return C.$$click=()=>te(),C})(),(()=>{var C=ht();return C.$$click=()=>se(),C})()]}}),w),w.$$click=()=>oe(),p})()]},ls=h=>{const r=Ue();r.setVolume(.2);const n=m(()=>h.study),d=m(()=>h.section),o=m(()=>h.chapter),$=m(()=>n().name),x=m(()=>d().name),A=m(()=>o().name),Y=m(()=>o().pgn),O=m(()=>Y().tree.initial_color);let t=new ts,y=new Je;const a=m(()=>(t.mode,Ze.make(Y().tree.clone))),g=m(()=>{let s=a().tree;return T(()=>G.make($(),x(),A(),s,new fe))});let P=m(()=>h.stats);const[_e,te]=L(!1),H=m(()=>{if(t.mode==="quiz-quiz")return t.i_quiz_quiz===16});let se=m(()=>{let s=P(),l=g(),z=T(()=>s.progress);return s.clone_merge_stats(l).progress-z});const oe=m(()=>g().progress_map);let[p,w]=L(!1);const C=s=>{let l=t.mode;if(s==="practice"){if(l===void 0||l==="match"||l==="moves")return" active"}else if(l==="quiz"||l==="quiz-quiz"||l==="quiz-deathmatch")return" active";return""},re=m(()=>t.mode!==void 0&&!H()&&!t.practice_end_result&&!t.quiz_deathmatch_fail_result),ce=m(()=>a().collect_branch_sums(a().cursor_path)),ae=m(U(()=>t.quiz_deathmatch_result_path,s=>{let l=s.length,z=a().tree?.all_leaves.map(f=>f.path).filter(f=>!a().failed_paths.find(D=>D.join("")===f.join(""))).filter(f=>f.join("").startsWith(s.join("")))[0]?.length;return`${l} out of ${z}`}));b(()=>{if(t.mode==="quiz-quiz"){let s=H();t.quiz_quiz_ls[t.quiz_quiz_ls.length-1]<0&&(te(!0),setTimeout(()=>{te(!1)},500)),s?(r.play("victory"),T(()=>{a().clear_failed_paths(),a()._hidden_paths.clear()})):(w(!0),setTimeout(()=>{k(()=>T(()=>{a().set_random_cursor_hide_rest(),t.match_color=a().cursor_after_color;let z=a().cursor_path;S(z.slice(0,-1)),setTimeout(()=>{a().cursor_path=z,w(!1)},200)}))},100))}}),b(()=>{let{mode:s,match_color:l}=t;s==="quiz-deathmatch"&&l!==O()&&setTimeout(()=>{T(()=>{a().reveal_one_random()})},400)}),b(()=>{a().solved_paths.replace_all(P().solved_paths)}),b(()=>{T(()=>g()).solved_paths.replace_all(a().solved_paths)}),b(U(()=>[P(),g()],(s,l)=>{if(l){let[z,f]=l;z.merge_and_save_stats(f)}})),b(U(()=>y.add_uci,s=>{if(p()||!s)return;let[l]=s;a().try_next_uci_fail(l)?(ie(),t.mode==="quiz-quiz"&&t.quiz_pass_one(a().cursor_path)):((t.mode==="match"||t.mode==="moves")&&(w(!0),setTimeout(()=>{a().on_wheel(-1),w(!1)},100)),t.mode==="quiz-quiz"&&(t.quiz_fail_one(a().cursor_path.slice(0,-1)),r.play("error")),t.mode==="quiz-deathmatch"&&(t.quiz_deathmatch_fail_result=-1,t.quiz_deathmatch_result_path=a().cursor_path.slice(0,-1),a()._hidden_paths.clear()))})),b(U(()=>t.quiz_deathmatch_fail_result,s=>{(s>0||s<0)&&r.play("victory")})),b(U(()=>t.practice_end_result,s=>{s&&r.play("victory")})),b(()=>{let{mode:s,match_color:l}=t;s==="match"&&l!==O()&&T(()=>{ie()})}),b(U(()=>a().fen_last_move,s=>{if(s){let[l,z]=s;y.on_set_fen_uci(l,z)}else y.on_set_fen_uci(Y().fen??He)}));const ie=()=>{let s=()=>a().is_cursor_path_at_a_leaf;s()?t.mode==="quiz-deathmatch"?(t.quiz_deathmatch_fail_result=1,t.quiz_deathmatch_result_path=a().cursor_path):(t.mode==="match"||t.mode==="moves")&&(t.practice_end_result=!0):(t.mode==="match"||t.mode==="quiz-deathmatch")&&(w(!0),setTimeout(()=>{a().reveal_one_random(),s()&&(t.mode==="quiz-deathmatch"?(t.quiz_deathmatch_fail_result=1,t.quiz_deathmatch_result_path=a().cursor_path):(t.mode==="match"||t.mode==="moves")&&(t.practice_end_result=!0)),w(!1)},400))};b(()=>{t.match_color=n().orientation??"white"});let V=!1;b(U(()=>a().tree?.get_at(a().cursor_path),s=>{if(s){if(V){V=!1;return}r.move(s)}}));const M=s=>{p()||(t.mode=s)},S=s=>{V=!0,a().cursor_path=s};b(U(()=>y.on_wheel,s=>{s&&a().on_wheel(s)}));const J=s=>{s.key==="f"&&t.flip_match_color()};Ee(()=>{document.addEventListener("keypress",J)}),ve(()=>{document.removeEventListener("keypress",J)});const K=s=>{let l=!1;s.key==="ArrowLeft"&&(y.set_on_wheel(-1),l=!0),s.key==="ArrowRight"&&(y.set_on_wheel(1),l=!0),s.key==="ArrowUp"&&(a().can_navigate_up&&a().navigate_up(),l=!0),s.key==="ArrowDown"&&(a().can_navigate_down&&a().navigate_down(),l=!0),l&&s.preventDefault()};Ee(()=>{document.addEventListener("keydown",K)}),ve(()=>{document.removeEventListener("keydown",K)});const Q=it(s=>{const l=s.target;l.tagName!=="PIECE"&&l.tagName!=="SQUARE"&&l.tagName!=="CG-BOARD"||(s.preventDefault(),y.set_on_wheel(Math.sign(s.deltaY)))});b(()=>{const s=h.el_rep;s&&(s.addEventListener("wheel",Q,{passive:!1}),ve(()=>{s.removeEventListener("wheel",Q)}))});const le=m(()=>{let s=a().tree?._traverse_path(a().cursor_path);return!s||!s.data.nags?[]:lt(s.data.uci,s.data.san,et[s.data.nags[0]])});return[(()=>{var s=gt();return u(s,v(Xe,{get shapes(){return le()},get orientation(){return t.match_color},get movable(){return re()},get doPromotion(){return y.promotion},get onMoveAfter(){return y.on_move_after},get fen_uci(){return y.fen_uci},get color(){return y.turnColor},get dests(){return y.dests}})),s})(),(()=>{var s=ft();return u(s,v(ee,{get each(){return oe()},children:l=>(()=>{var z=At(),f=z.firstChild,D=f.nextSibling;return z.$$click=q=>a().try_set_cursor_path(l.path),B(q=>{var I=`background: ${l.color}; height: ${l.total*100}%`,N=`height: ${l.white()*100}%`,F=`height: ${l.black()*100}%`;return q.e=ne(z,I,q.e),q.t=ne(f,N,q.t),q.a=ne(D,F,q.a),q},{e:void 0,t:void 0,a:void 0}),z})()})),s})(),(()=>{var s=Lt(),l=s.firstChild,z=l.firstChild,f=z.firstChild,D=f.nextSibling,q=l.nextSibling,I=q.firstChild,N=I.nextSibling,F=N.firstChild,X=F.nextSibling,Z=N.nextSibling,ue=Z.firstChild,he=ue.nextSibling,de=he.nextSibling,$e=de.nextSibling,Ie=Z.nextSibling,ze=Ie.firstChild,me=ze.firstChild,qe=me.nextSibling,je=ze.nextSibling;return u(f,x),u(D,A),u(I,v(tt,{get lala(){return a()}})),F.$$click=()=>a().navigate_up(),X.$$click=()=>a().navigate_down(),u(N,v(ee,{get each(){return ce()},children:e=>(()=>{var _=jt();return _.$$click=()=>a().try_set_cursor_path(e.path),u(_,v(j,{get when(){return e.ply&1},get children(){var c=It();return u(c,()=>nt(e.ply)),c}}),null),u(_,()=>e.san,null),_})()}),null),ue.$$click=()=>a().navigate_first(),he.$$click=()=>a().navigate_prev(),de.$$click=()=>a().navigate_next(),$e.$$click=()=>a().navigate_last(),me.$$click=()=>t.end_match_or_moves(),qe.$$click=()=>M("quiz"),u(je,v(Be,{get children(){return[v(W,{get when(){return t.mode==="quiz"},get children(){return[Me(),$t(),(()=>{var e=zt(),_=e.firstChild,c=_.nextSibling;return _.$$click=()=>M("quiz-quiz"),c.$$click=()=>M("quiz-deathmatch"),e})()]}}),v(W,{get when(){return t.mode==="quiz-deathmatch"},get children(){return[qt(),v(j,{get when(){return t.quiz_deathmatch_fail_result!==0},get fallback(){return[Qt(),Nt(),(()=>{var e=Yt(),_=e.firstChild;return _.$$click=()=>{k(()=>{let c=a().cursor_path.slice(0,-1);t.end_deathmatch(),a()._hidden_paths.clear(),S(c)})},e})()]},get children(){return[(()=>{var e=bt();return e.firstChild,u(e,v(j,{get when(){return t.quiz_deathmatch_fail_result>0},get fallback(){return Ae()},get children(){return[" ",De()]}}),null),e})(),(()=>{var e=yt();return e.firstChild,u(e,ae,null),e})(),(()=>{var e=Re(),_=e.firstChild,c=_.nextSibling;return c.nextSibling,u(e,se,c),e})(),(()=>{var e=wt(),_=e.firstChild,c=_.nextSibling;return _.$$click=()=>t.restart_deathmatch(),c.$$click=()=>{k(()=>{let E=a().cursor_path.slice(0,-1);t.end_deathmatch(),a()._hidden_paths.clear(),S(E)})},e})()]}})]}}),v(W,{get when(){return t.mode==="quiz-quiz"},get children(){return v(j,{get when(){return H()},get fallback(){return[Ot(),Ft(),Ut(),(()=>{var e=Bt(),_=e.firstChild;return u(e,()=>t.i_quiz_quiz,_),B(()=>R(e,_e()?"error":"")),e})(),(()=>{var e=Gt(),_=e.firstChild;return _.$$click=()=>{k(()=>{let c=a().cursor_path;t.end_quiz(),a()._hidden_paths.clear(),S(c)})},e})()]},get children(){return[(()=>{var e=kt();return e.firstChild,u(e,v(j,{get when(){return t.quiz_pass>10},get fallback(){return Ae()},get children(){return[" ",De()]}}),null),e})(),(()=>{var e=St(),_=e.firstChild,c=_.nextSibling;return c.nextSibling,u(e,()=>t.quiz_pass,c),e})(),(()=>{var e=Re(),_=e.firstChild,c=_.nextSibling;return c.nextSibling,u(e,se,c),e})(),(()=>{var e=xt();return u(e,v(ee,{get each(){return t.quiz_quiz_ls},children:(_,c)=>(()=>{var E=Kt();return E.$$click=()=>a().cursor_path=t._quiz_quiz_ls_paths[c()],R(E,"move "+(_>0?"success":"error")),u(E,()=>c()+1),E})()})),e})(),(()=>{var e=Ct(),_=e.firstChild,c=_.nextSibling;return _.$$click=()=>t.restart_quiz(),c.$$click=()=>{k(()=>{let E=a().cursor_path;t.end_quiz(),a()._hidden_paths.clear(),S(E)})},e})()]}})}}),v(W,{get when(){return t.mode===void 0},get children(){return[Me(),Et(),(()=>{var e=Pt(),_=e.firstChild,c=_.nextSibling;return _.$$click=()=>M("moves"),c.$$click=()=>M("match"),e})()]}}),v(W,{get when(){return t.mode==="match"},get children(){return[Mt(),v(j,{get when(){return t.practice_end_result},get fallback(){return[(()=>{var e=Wt(),_=e.firstChild,c=_.nextSibling;return c.nextSibling,u(e,()=>t.match_color,c),e})(),Ht(),Vt()]},get children(){return[Te(),Le()]}}),(()=>{var e=Dt(),_=e.firstChild,c=_.nextSibling;return _.$$click=()=>t.restart_match(),c.$$click=()=>{let E=a().cursor_path;k(()=>{t.end_match_or_moves(),a()._hidden_paths.clear(),S(E)})},e})()]}}),v(W,{get when(){return t.mode==="moves"},get children(){return[Rt(),v(j,{get when(){return t.practice_end_result},get fallback(){return[Jt(),Xt()]},get children(){return[Te(),Le()]}}),(()=>{var e=Tt(),_=e.firstChild,c=_.nextSibling;return _.$$click=()=>{t.restart_moves()},c.$$click=()=>t.end_match_or_moves(),e})()]}})]}})),B(e=>{var _=p()||!a().can_navigate_up,c="fbt prev"+(!p()&&a().can_navigate_up?"":" disabled"),E=p()||!a().can_navigate_down,be="fbt prev"+(!p()&&a().can_navigate_down?"":" disabled"),ye="fbt first"+(!p()&&a().can_navigate_prev?"":" disabled"),we="fbt prev"+(!p()&&a().can_navigate_prev?"":" disabled"),ke="fbt next"+(!p()&&a().can_navigate_next?"":" disabled"),Se="fbt last"+(!p()&&a().can_navigate_next?"":" disabled"),xe="tab"+C("practice"),Ce="tab"+C("quiz");return _!==e.e&&(F.disabled=e.e=_),c!==e.t&&R(F,e.t=c),E!==e.a&&(X.disabled=e.a=E),be!==e.o&&R(X,e.o=be),ye!==e.i&&R(ue,e.i=ye),we!==e.n&&R(he,e.n=we),ke!==e.s&&R(de,e.s=ke),Se!==e.h&&R($e,e.h=Se),xe!==e.r&&R(me,e.r=xe),Ce!==e.d&&R(qe,e.d=Ce),e},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0,n:void 0,s:void 0,h:void 0,r:void 0,d:void 0}),s})()]};Ge(["click"]);export{ps as default};
