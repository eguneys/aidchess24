import{a as x,i as a,c as d,u as f,S as w,d as C,t as n,b as S,F as k}from"./index-CnSM4zMR.js";import{R as y}from"./studyrepo-CDDHZOgK.js";import"./chess_pgn_logic-CV-PN8o3.js";var b=n("<div class=category><h1></h1><ul>"),I=n("<li class=soon><h3></h3><span>Coming Soon"),N=n("<li><h3>"),P=n('<input style=padding:0.2em;margin:0.2em; type=text placeholder="Short Id">'),F=n('<textarea placeholder="Paste Study PGN"rows=10 cols=40>'),R=n("<div class=repertoires><div class=categories><div class=category><h1>Import New Study </h1><div style=display:flex;flex-flow:column;gap:0.2em;><button style=align-self:flex-end;padding:1em;>Import"),G=n('<input style=padding:0.2em;margin:0.3em; type=text placeholder="lichess study link">'),E=n("<a style=cursor:pointer;> or Paste PGN ");const v=o=>{const h=S();return(()=>{var p=b(),u=p.firstChild,g=u.nextSibling;return a(u,()=>o.name),a(g,d(k,{get each(){return o.list},children:l=>d(w,{get fallback(){return(()=>{var s=N(),e=s.firstChild;return s.$$click=()=>h(`/${l.category.toLowerCase()}/${l.study_id}`),a(e,()=>l.study_name),s})()},get when(){return l.study_id===""},get children(){var s=I(),e=s.firstChild;return a(e,()=>l.study_name),s}})})),p})()};function V(){let o=y;const h=async()=>{let e;if(l()){let r=g.value;if(e=u.value,r.length<3||r.length>20||e.length<30)return;y.save_import_pgn(r,e)}else{let i=p.value.match(/https:\/\/lichess.org\/study\/(\w*)\/?/);if(!i){p.value="Incorrect lichess study";return}let $=i[0],c=i[1];e=await fetch(`https://lichess.org/api/study/${c}.pgn`).then(m=>m.text()),y.save_import_pgn(c,e,$)}window.location.reload()};let p,u,g;const[l,s]=x(!1);return(()=>{var e=R(),r=e.firstChild,i=r.firstChild,$=i.firstChild,c=$.nextSibling,m=c.firstChild;return a(r,d(v,{name:"Openings",get list(){return o.openings}}),i),a(r,d(v,{name:"Masters",get list(){return o.masters}}),i),a(r,d(v,{name:"Imported",get list(){return o.imported[0]()}}),i),a(c,d(w,{get when(){return l()},get fallback(){return[(()=>{var t=G();return f(_=>p=_,t),t})(),(()=>{var t=E();return t.$$click=()=>{s(!0)},t})()]},get children(){return[(()=>{var t=P();return f(_=>g=_,t),t})(),(()=>{var t=F();return f(_=>u=_,t),t})()]}}),m),m.$$click=()=>h(),e})()}C(["click"]);export{V as default};
