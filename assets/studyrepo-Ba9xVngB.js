var b=Object.defineProperty;var w=(n,t,e)=>t in n?b(n,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):n[t]=e;var c=(n,t,e)=>(w(n,typeof t!="symbol"?t+"":t,e),e);import{P as y}from"./chess_pgn_logic-DCstM5QS.js";const P=(n,t,e,s)=>{let i=y.make_many(n).map(a=>{var m;let o=(m=a.site)!=null&&m.includes("http")?a.site:`https://lichess.org/study/${t}`,l=a.event,r;if(l!=null&&l.includes(": "))[e,r]=l.split(": ");else if(a.white!=="?"){let _=a.white,g=a.black;r=`${_} vs ${g} at ${l}`}else r=l;return{name:r,site:o,pgn:a}});return{id:t,name:e,orientation:s,chapters:i}},k=(n,t,e,s)=>{let i=[];return y.make_many(n).map(a=>{let o=a.section,l=a.chapter,r=i.find(m=>m.name===o);r||i.push(r={name:o,chapters:[]}),r==null||r.chapters.push({name:l,pgn:a})}),{id:t,name:e,orientation:s,sections:i}},$=(n,t,e)=>fetch(`pgns/${n}.pgn`).then(s=>s.text()).then(s=>P(s,n,t,e)),z=(n,t,e)=>fetch(`pgns/${n}.section.pgn`).then(s=>s.text()).then(s=>k(s,n,t,e)),d=class d{read_section_study(t){let{study_name:e,orientation:s}=f.study_by_id(t);return z(t,e,s)}read_study(t){let{study_name:e,orientation:s}=f.study_by_id(t);return $(t,e,s)}};c(d,"init",()=>new d);let u=d;const E=u.init(),D={Openings:[["Slav Defense","slav","black"],["Petroff Defense","petroff","white"],["Philidor Defence","philidor","white"],["Berlin Defence","","black"],["Caro Kann","","white"],["Four-Knights","","white"],["Sicilian Defense","","white"],["French Defense","","black"]],Masters:[["Bobby Fischer 60 Memorable Games","",60],["Magnus Carlsen 2023",""],["Tata Steel 2023",""]],Tactics:[["50 Puzzles 1600","",50],["50 Puzzles 2000","",50],["50 Puzzles 2200","",50]],Endgames:[["100 Endgames You Must Know",""],["King and Pawn Endgames",""]]},h=class h{constructor(){c(this,"all");c(this,"openings");c(this,"masters");c(this,"tactics");c(this,"endgames");c(this,"recent");c(this,"completed")}study_by_id(t){return this.all.find(s=>s.study_link===t)}};c(h,"init",()=>{function t(s){return D[s].map(i=>({category:s,study_name:i[0],study_link:i[1],nb_chapters:i[2],orientation:i[3]}))}let e=new h;return e.openings=t("Openings"),e.masters=t("Masters"),e.tactics=t("Tactics"),e.endgames=t("Endgames"),e.all=[...e.openings,...e.masters,...e.tactics,...e.endgames],e.recent=[],e.completed=[],e});let p=h;const f=p.init();export{f as R,E as S};
