var De=Object.defineProperty;var Le=(h,e,i)=>e in h?De(h,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):h[e]=i;var b=(h,e,i)=>(Le(h,typeof e!="symbol"?e+"":e,i),i);import{m as je,h as Qe,j as Ie,k as L,l as Ne,i as u,c as p,S as G,b as m,F as ee,f as B,g as P,s as ye,n as Ye,o as D,p as F,q as y,r as Ae,v as ke,w as ae,M as X,x as q,e as Oe,d as Fe,t as l}from"./index-B1LDfD4n.js";/* empty css                   */import{S as Ge}from"./studyrepo-Ba9xVngB.js";import{S as We,C as Be}from"./Shalala-B_AR6BAj.js";import{T as He,a as he,C as Ke}from"./Chesstree2-DTqrRRTH.js";import{M as Ue,I as Ve}from"./chess_pgn_logic-DCstM5QS.js";import{s as Je}from"./scroll-DnAhRpRC.js";class we{constructor(e,i,d){b(this,"_practice_progress");b(this,"_dm_pass");b(this,"_dm_fail");b(this,"_quiz_pass");b(this,"_quiz_fail");b(this,"_solved_paths");this.study_id=e,this.section=i,this.chapter=d,this._solved_paths=this.make_persisted([],"solved_paths"),this._practice_progress=this.make_persisted(0,"practice_progress"),this._dm_pass=this.make_persisted(0,"dm_pass"),this._dm_fail=this.make_persisted(0,"dm_fail"),this._quiz_pass=this.make_persisted(0,"quiz_pass"),this._quiz_fail=this.make_persisted(0,"quiz_fail")}get practice_progress(){return this._practice_progress[0]()}set practice_progress(e){this._practice_progress[1](e)}get dm_pass(){return this._dm_pass[0]()}get dm_fail(){return this._dm_fail[0]()}get quiz_pass(){return this._quiz_pass[0]()}get quiz_fail(){return this._quiz_fail[0]()}set dm_pass(e){this._dm_pass[1](e)}set dm_fail(e){this._dm_fail[1](e)}set quiz_pass(e){this._quiz_pass[1](e)}set quiz_fail(e){this._quiz_fail[1](e)}set solved_paths(e){this._solved_paths[1](e)}get solved_paths(){return this._solved_paths[0]()}make_persisted(e,i){return je(e,`openings.id.${this.study_id}.section.${this.section}.chapter.${this.chapter}.${i}`)}}var Xe=l("<div class=progress-wrap><div class=progress><div class=bar></div></div><h5>%"),Ze=l("<div class=repertoire>"),et=l("<div class=sections-wrap><h2 class=title></h2><div class=sections>"),tt=l("<div class=section><input type=radio name=accordion><label> <span class=progress>%</span></label><div class=chapters>"),st=l("<div><div class=title><span class=no>.</span> <!> "),rt=l("<div class=board-wrap>"),at=l("<div class=eval-gauge>"),Ce=l("<small> Click on variations to expand. "),it=l("<small> Your goal is to guess every move correctly to pass the quiz. "),lt=l("<div class=in_mode><button><span> Take Quiz </span></button><button><span> Play Deathmatch "),_t=l("<h2>Deathmatch Mode"),Se=l("<span class=passed>passed"),nt=l("<small> Deathmatch "),ot=l("<small> Your score: "),xe=l("<small> Progress +<!>% "),ct=l("<div class=in_mode><button><span> Restart Deathmatch </span></button><button class=end2><span> End Deathmatch "),ht=l("<small> Quiz "),ut=l("<small> Your score: <!> out of 15 correct"),dt=l("<div class=past>"),mt=l("<div class=in_mode><button><span> Restart Quiz </span></button><button class=end2><span> End Quiz "),pt=l("<small> Your goal is to guess every move correctly to fill up the progress bar. "),vt=l("<div class=in_mode><button><span> Play all Moves </span></button><button><span> Play as Match "),gt=l("<h2>Play as Match"),Me=l("<small> End of practice. "),Pe=l("<small> Congratulations. "),ft=l("<div class=in_mode><button><span> Rematch </span></button><button class=end2><span> End Practice "),$t=l("<h2>Play all moves"),zt=l("<div class=in_mode><button><span> Clear </span></button><button class=end2><span> End Practice "),qt=l("<div class=replay-wrap><div class=replay-header><div class=title><h4></h4><h5></h5></div></div><div class=replay><div class=replay-v></div><div class=branch-sums><button data-icon=></button><button data-icon=></button></div><div class=replay-jump><button data-icon=></button><button data-icon=></button><button data-icon=></button><button data-icon=></button></div><div class=tools><div class=tabs><h3>Practice</h3><h3>Quiz</h3></div><div class=content>"),bt=l('<div class=line><span class="fill white"></span><span class="fill black">'),yt=l("<span class=index>"),kt=l("<div class=fbt>"),wt=l("<small>You will play the moves from the opening."),Ct=l("<small>If you go out of book, game ends."),St=l("<div class=in_mode><button class=end2><span> End Deathmatch "),Ee=l("<span class=failed>failed"),xt=l("<h3>Quiz Mode"),Mt=l("<small>You are given 15 random positions from the opening."),Pt=l("<small>Guess the correct move."),Et=l("<h2> of 15"),Tt=l("<div class=in_mode><button class=end2><span> End Quiz "),Rt=l("<span>"),Dt=l("<small> Try to guess the moves for <!>."),Lt=l("<small> AI will play the next move, picking a random variation. "),jt=l("<small> Moves will be hidden once the game is started. "),Qt=l("<small>Try to guess the moves for both sides."),It=l("<small>Moves will be hidden once you start.");const Nt=["#afacc6","#0d2b45","#203c56","#544e68","#8d697a","#d08159"],Yt=h=>Nt[Math.floor((1-h/10)*6)],At=h=>`${Math.floor(h/2)+1}.`+(h%2===0?"..":"");class Ot{constructor(){b(this,"_mode");b(this,"_match_color");b(this,"_practice_end_result");b(this,"_quiz_quiz_ls_paths",[]);b(this,"_quiz_quiz_ls");b(this,"_quiz_deathmatch_fail");b(this,"_quiz_deathmatch_result_path");this._mode=L(void 0,{equals:!1}),this._match_color=L("white"),this._quiz_quiz_ls=L([],{equals:!1}),this._quiz_deathmatch_fail=L(0),this._quiz_deathmatch_result_path=L([]),this._practice_end_result=L(!1)}get mode(){return this._mode[0]()}set mode(e){this._mode[1](e)}get match_color(){return this._match_color[0]()}set match_color(e){this._match_color[1](e)}flip_match_color(){this.match_color=this.match_color==="white"?"black":"white"}get practice_end_result(){return this._practice_end_result[0]()}set practice_end_result(e){this._practice_end_result[1](e)}get i_quiz_quiz(){return this.quiz_quiz_ls.length+1}restart_match(){q(()=>{this.practice_end_result=!1,this.mode="match",this.flip_match_color()})}restart_moves(){q(()=>{this.practice_end_result=!1,this.mode="moves",this.flip_match_color()})}end_match_or_moves(){q(()=>{this.practice_end_result=!1,this.mode=void 0})}restart_quiz(){q(()=>{this.quiz_quiz_ls=[],this._quiz_quiz_ls_paths=[],this.mode="quiz-quiz"})}end_quiz(){q(()=>{this.quiz_quiz_ls=[],this._quiz_quiz_ls_paths=[],this.mode="quiz"})}quiz_pass_one(e){q(()=>{this.quiz_quiz_ls.push(1),this.quiz_quiz_ls=this.quiz_quiz_ls,this._quiz_quiz_ls_paths.push(e)})}quiz_fail_one(e){q(()=>{this.quiz_quiz_ls.push(-1),this.quiz_quiz_ls=this.quiz_quiz_ls,this._quiz_quiz_ls_paths.push(e)})}get quiz_pass(){return this.quiz_quiz_ls.filter(e=>e>0).length}get quiz_quiz_ls(){return this._quiz_quiz_ls[0]()}set quiz_quiz_ls(e){this._quiz_quiz_ls[1](e)}set quiz_deathmatch_fail_result(e){this._quiz_deathmatch_fail[1](e)}get quiz_deathmatch_fail_result(){return this._quiz_deathmatch_fail[0]()}get quiz_deathmatch_result_path(){return this._quiz_deathmatch_result_path[0]()}set quiz_deathmatch_result_path(e){this._quiz_deathmatch_result_path[1](e)}restart_deathmatch(){q(()=>{this.flip_match_color(),this.quiz_deathmatch_fail_result=0,this.mode="quiz-deathmatch"})}end_deathmatch(){q(()=>{this.quiz_deathmatch_fail_result=0,this.mode="quiz",this.flip_match_color()})}}const Ft=h=>(()=>{var e=Xe(),i=e.firstChild,d=i.firstChild,o=i.nextSibling,g=o.firstChild;return u(o,()=>h.width,g),B(k=>ae(d,`width: ${h.width}%`,k)),e})();class Gt{constructor(e){this.sections=e}get progress(){let e=this.sections.length;return this.sections.map(i=>Math.round(i.progress/e)).reduce((i,d)=>i+d)}section_by_name(e){return this.sections.find(i=>i.name===e)}}class Wt{constructor(e){this.chapters=e}get name(){return this.chapters[0].section}get progress(){let e=this.chapters.length;return this.chapters.map(i=>Math.round(i.progress/e)).reduce((i,d)=>i+d)}chapter_by_name(e){return this.chapters.find(i=>i.chapter===e)}}class W{constructor(e,i,d,o,g){this.study_id=e,this.section=i,this.chapter=d,this.score_tree=o,this.solved_paths=g}static load_from_store(e,i,d){var k,E;let o=new we(e.id,i,d),g=(E=(k=e.sections.find(j=>j.name===i))==null?void 0:k.chapters.find(j=>j.name===d))==null?void 0:E.pgn.tree;if(g)return W.make(e.id,i,d,g,he.set_for_saving(o.solved_paths))}static save_paths_to_store(e){let i=new we(e.study_id,e.section,e.chapter);i.solved_paths=e.solved_paths.get_for_saving(),i.practice_progress=e.progress}static make(e,i,d,o,g=new he){return new W(e,i,d,Ue.make(o),g)}get clone(){return new W(this.study_id,this.section,this.chapter,this.score_tree,this.solved_paths.clone)}get progress(){return Math.round(this.solved_paths.paths.map(e=>D(()=>{var i;return(i=this.score_tree.get_at(e))==null?void 0:i.score})??0).reduce((e,i)=>e+i,0)*100)}get progress_map(){let e=D(()=>this.score_tree.progress_paths);const i=D(()=>e.map(d=>[d.filter(o=>o.length%2===1).map(o=>this.score_tree.get_at(o).score).reduce((o,g)=>o+g,0),d.filter(o=>o.length%2===0).map(o=>this.score_tree.get_at(o).score).reduce((o,g)=>o+g,0)]));return e.map((d,o)=>{let g=d[0],k=d[d.length-1],E=i[o][0],j=i[o][1],s=m(()=>this.solved_paths.paths),f=m(()=>s().filter(v=>d.some(S=>S.join("")===v.join("")))),r=m(()=>f().filter(v=>v.length%2===1).map(v=>this.score_tree.get_at(v).score).reduce((v,S)=>v+S,0)),C=m(()=>f().filter(v=>v.length%2===0).map(v=>this.score_tree.get_at(v).score).reduce((v,S)=>v+S,0));return{color:Yt(g.length/20+k.length/10),total:E+j,black:m(()=>C()/j),white:m(()=>r()/E),path:k}}).reverse()}clone_merge_stats(e){let i=D(()=>this.clone);return i.solved_paths.merge_dup(e.solved_paths),i}merge_and_save_stats(e){this.solved_paths.merge_dup(e.solved_paths),this.save_stats()}save_stats(){W.save_paths_to_store(this)}}const ss=()=>{const h=Qe(),[e]=Ie(h.id,Ge.read_section_study);let[i,d]=L();return(()=>{var o=Ze();return Ne(g=>d(g),o),u(o,p(G,{get when(){return e()},fallback:"Loading...",get children(){return p(Bt,{get el_rep(){return i()},get section_study(){return e()}})}})),o})()},Bt=h=>{let e=m(()=>h.section_study.sections);const[i,d]=L(0),o=m(()=>e()[i()]),g=m(()=>o().chapters),[k,E]=L(0),j=r=>{q(()=>{E(0),d(r)})},s=m(()=>g()[k()]);let f=m(()=>{const r=h.section_study;return new Gt(r.sections.map(C=>new Wt(C.chapters.map(v=>W.load_from_store(r,C.name,v.name)))))});return[(()=>{var r=et(),C=r.firstChild,v=C.nextSibling;return u(C,()=>h.section_study.name),u(v,p(ee,{get each(){return e()},children:(S,Y)=>(()=>{var H=tt(),K=H.firstChild,A=K.nextSibling,x=A.firstChild,I=x.nextSibling,te=I.firstChild,ie=A.nextSibling;return A.$$click=()=>j(Y()),u(A,()=>S.name,x),u(I,()=>f().section_by_name(S.name).progress,te),u(ie,p(ee,{get each(){return S.chapters},children:(M,O)=>(()=>{var T=st(),N=T.firstChild,Q=N.firstChild,se=Q.firstChild,re=Q.nextSibling,a=re.nextSibling;return a.nextSibling,T.$$click=()=>E(O()),u(Q,()=>O()+1,se),u(N,()=>M.name,a),u(T,p(Ft,{get width(){return f().section_by_name(S.name).chapter_by_name(M.name).progress}}),null),B(()=>P(T,"chapter"+(O()===k()?" active":""))),T})()})),B(M=>{var O=`accordion-${Y()}`,T=i()===Y()?"active":"",N=`accordion-${Y()}`;return O!==M.e&&ye(K,"id",M.e=O),T!==M.t&&P(A,M.t=T),N!==M.a&&ye(A,"for",M.a=N),M},{e:void 0,t:void 0,a:void 0}),B(()=>K.checked=i()===Y()),H})()})),r})(),p(Ht,{get el_rep(){return h.el_rep},get stats(){return f().section_by_name(o().name).chapter_by_name(s().name)},get study(){return h.section_study},get section(){return o()},get chapter(){return s()}})]},Ht=h=>{const e=Ye();e.setVolume(.2);const i=m(()=>h.study),d=m(()=>h.section),o=m(()=>h.chapter),g=m(()=>i().name),k=m(()=>d().name),E=m(()=>o().name),j=m(()=>o().pgn);let s=new Ot,f=new We;const r=m(()=>(s.mode,He.make(j().tree.clone))),C=m(()=>{let a=r().tree;return D(()=>W.make(g(),k(),E(),a,new he))});let v=m(()=>h.stats);const[S,Y]=L(!1),H=m(()=>{if(s.mode==="quiz-quiz")return s.i_quiz_quiz===16});let K=m(()=>{let a=v(),c=C(),$=D(()=>a.progress);return a.clone_merge_stats(c).progress-$});const A=m(()=>C().progress_map);let[x,I]=L(!1);const te=a=>{let c=s.mode;if(a==="practice"){if(c===void 0||c==="match"||c==="moves")return" active"}else if(c==="quiz"||c==="quiz-quiz"||c==="quiz-deathmatch")return" active";return""},ie=m(()=>s.mode!==void 0&&!H()&&!s.practice_end_result&&!s.quiz_deathmatch_fail_result),M=m(()=>r().collect_branch_sums(r().cursor_path)),O=m(F(()=>s.quiz_deathmatch_result_path,a=>{var R,U;let c=a.length,$=(U=(R=r().tree)==null?void 0:R.all_leaves.map(z=>z.path).filter(z=>!r().failed_paths.find(V=>V.join("")===z.join(""))).filter(z=>z.join("").startsWith(a.join("")))[0])==null?void 0:U.length;return`${c} out of ${$}`}));y(()=>{if(s.mode==="quiz-quiz"){let a=H();s.quiz_quiz_ls[s.quiz_quiz_ls.length-1]<0&&(Y(!0),setTimeout(()=>{Y(!1)},500)),a?(e.play("victory"),D(()=>{r().clear_failed_paths(),r()._hidden_paths.clear()})):(I(!0),setTimeout(()=>{q(()=>D(()=>{r().set_random_cursor_hide_rest(),s.match_color=r().cursor_after_color;let $=r().cursor_path;Q($.slice(0,-1)),setTimeout(()=>{r().cursor_path=$,I(!1)},200)}))},100))}}),y(()=>{let{mode:a,match_color:c}=s;a==="quiz-deathmatch"&&c==="black"&&setTimeout(()=>{D(()=>{r().reveal_one_random()})},400)}),y(()=>{r().solved_paths.replace_all(v().solved_paths)}),y(()=>{D(()=>C()).solved_paths.replace_all(r().solved_paths)}),y(F(()=>[v(),C()],(a,c)=>{if(c){let[$,R]=c;$.merge_and_save_stats(R)}})),y(F(()=>f.add_uci,a=>{if(x()||!a)return;r().try_next_uci_fail(a)?(T(),s.mode==="quiz-quiz"&&s.quiz_pass_one(r().cursor_path)):((s.mode==="match"||s.mode==="moves")&&(I(!0),setTimeout(()=>{r().on_wheel(-1),I(!1)},100)),s.mode==="quiz-quiz"&&(s.quiz_fail_one(r().cursor_path.slice(0,-1)),e.play("error")),s.mode==="quiz-deathmatch"&&(s.quiz_deathmatch_fail_result=-1,s.quiz_deathmatch_result_path=r().cursor_path.slice(0,-1),r()._hidden_paths.clear()))})),y(F(()=>s.quiz_deathmatch_fail_result,a=>{(a>0||a<0)&&e.play("victory")})),y(F(()=>s.practice_end_result,a=>{a&&e.play("victory")})),y(()=>{let{mode:a,match_color:c}=s;a==="match"&&c==="black"&&D(()=>{T()})}),y(F(()=>r().fen_last_move,a=>{if(a){let[c,$]=a;f.on_set_fen_uci(c,$)}else f.on_set_fen_uci(Ve)}));const T=()=>{let a=()=>r().is_cursor_path_at_a_leaf;a()?s.mode==="quiz-deathmatch"?(s.quiz_deathmatch_fail_result=1,s.quiz_deathmatch_result_path=r().cursor_path):(s.mode==="match"||s.mode==="moves")&&(s.practice_end_result=!0):(s.mode==="match"||s.mode==="quiz-deathmatch")&&(I(!0),setTimeout(()=>{r().reveal_one_random(),a()&&(s.mode==="quiz-deathmatch"?(s.quiz_deathmatch_fail_result=1,s.quiz_deathmatch_result_path=r().cursor_path):(s.mode==="match"||s.mode==="moves")&&(s.practice_end_result=!0)),I(!1)},400))};y(()=>{s.match_color=i().orientation??"white"});let N=!1;y(F(()=>{var a;return(a=r().tree)==null?void 0:a.get_at(r().cursor_path)},a=>{if(a){if(N){N=!1;return}e.move(a)}}));const Q=a=>{N=!0,r().cursor_path=a};y(F(()=>f.on_wheel,a=>{a&&r().on_wheel(a)}));const se=a=>{a.key==="f"&&s.flip_match_color()};Ae(()=>{document.addEventListener("keypress",se)}),ke(()=>{document.removeEventListener("keypress",se)});const re=Je(a=>{const c=a.target;c.tagName!=="PIECE"&&c.tagName!=="SQUARE"&&c.tagName!=="CG-BOARD"||(a.preventDefault(),f.set_on_wheel(Math.sign(a.deltaY)))});return y(()=>{const a=h.el_rep;a&&(a.addEventListener("wheel",re,{passive:!1}),ke(()=>{a.removeEventListener("wheel",re)}))}),[(()=>{var a=rt();return u(a,p(Be,{get orientation(){return s.match_color},get movable(){return ie()},get doPromotion(){return f.promotion},get onMoveAfter(){return f.on_move_after},get fen_uci(){return f.fen_uci},get color(){return f.turnColor},get dests(){return f.dests}})),a})(),(()=>{var a=at();return u(a,p(ee,{get each(){return A()},children:c=>(()=>{var $=bt(),R=$.firstChild,U=R.nextSibling;return $.$$click=z=>r().try_set_cursor_path(c.path),B(z=>{var V=`background: ${c.color}; height: ${c.total*100}%`,Z=`height: ${c.white()*100}%`,J=`height: ${c.black()*100}%`;return z.e=ae($,V,z.e),z.t=ae(R,Z,z.t),z.a=ae(U,J,z.a),z},{e:void 0,t:void 0,a:void 0}),$})()})),a})(),(()=>{var a=qt(),c=a.firstChild,$=c.firstChild,R=$.firstChild,U=R.nextSibling,z=c.nextSibling,V=z.firstChild,Z=V.nextSibling,J=Z.firstChild,le=J.nextSibling,ue=Z.nextSibling,_e=ue.firstChild,ne=_e.nextSibling,oe=ne.nextSibling,de=oe.nextSibling,Te=ue.nextSibling,me=Te.firstChild,ce=me.firstChild,pe=ce.nextSibling,Re=me.nextSibling;return u(R,k),u(U,E),u(V,p(Ke,{get lala(){return r()}})),J.$$click=()=>r().navigate_up(),le.$$click=()=>r().navigate_down(),u(Z,p(ee,{get each(){return M()},children:t=>(()=>{var _=kt();return _.$$click=()=>r().try_set_cursor_path(t.path),u(_,p(G,{get when(){return t.ply&1},get children(){var n=yt();return u(n,()=>At(t.ply)),n}}),null),u(_,()=>t.san,null),_})()}),null),_e.$$click=()=>r().navigate_first(),ne.$$click=()=>r().navigate_prev(),oe.$$click=()=>r().navigate_next(),de.$$click=()=>r().navigate_last(),ce.$$click=()=>s.end_match_or_moves(),pe.$$click=()=>s.mode="quiz",u(Re,p(Oe,{get children(){return[p(X,{get when(){return s.mode==="quiz"},get children(){return[Ce(),it(),(()=>{var t=lt(),_=t.firstChild,n=_.nextSibling;return _.$$click=()=>s.mode="quiz-quiz",n.$$click=()=>s.mode="quiz-deathmatch",t})()]}}),p(X,{get when(){return s.mode==="quiz-deathmatch"},get children(){return[_t(),p(G,{get when(){return s.quiz_deathmatch_fail_result!==0},get fallback(){return[wt(),Ct(),(()=>{var t=St(),_=t.firstChild;return _.$$click=()=>{q(()=>{let n=r().cursor_path.slice(0,-1);s.end_deathmatch(),r()._hidden_paths.clear(),Q(n)})},t})()]},get children(){return[(()=>{var t=nt();return t.firstChild,u(t,p(G,{get when(){return s.quiz_deathmatch_fail_result>0},get fallback(){return Ee()},get children(){return[" ",Se()]}}),null),t})(),(()=>{var t=ot();return t.firstChild,u(t,O,null),t})(),(()=>{var t=xe(),_=t.firstChild,n=_.nextSibling;return n.nextSibling,u(t,K,n),t})(),(()=>{var t=ct(),_=t.firstChild,n=_.nextSibling;return _.$$click=()=>s.restart_deathmatch(),n.$$click=()=>{q(()=>{let w=r().cursor_path.slice(0,-1);s.end_deathmatch(),r()._hidden_paths.clear(),Q(w)})},t})()]}})]}}),p(X,{get when(){return s.mode==="quiz-quiz"},get children(){return p(G,{get when(){return H()},get fallback(){return[xt(),Mt(),Pt(),(()=>{var t=Et(),_=t.firstChild;return u(t,()=>s.i_quiz_quiz,_),B(()=>P(t,S()?"error":"")),t})(),(()=>{var t=Tt(),_=t.firstChild;return _.$$click=()=>{q(()=>{let n=r().cursor_path;s.end_quiz(),r()._hidden_paths.clear(),Q(n)})},t})()]},get children(){return[(()=>{var t=ht();return t.firstChild,u(t,p(G,{get when(){return s.quiz_pass>10},get fallback(){return Ee()},get children(){return[" ",Se()]}}),null),t})(),(()=>{var t=ut(),_=t.firstChild,n=_.nextSibling;return n.nextSibling,u(t,()=>s.quiz_pass,n),t})(),(()=>{var t=xe(),_=t.firstChild,n=_.nextSibling;return n.nextSibling,u(t,K,n),t})(),(()=>{var t=dt();return u(t,p(ee,{get each(){return s.quiz_quiz_ls},children:(_,n)=>(()=>{var w=Rt();return w.$$click=()=>r().cursor_path=s._quiz_quiz_ls_paths[n()],P(w,"move "+(_>0?"success":"error")),u(w,()=>n()+1),w})()})),t})(),(()=>{var t=mt(),_=t.firstChild,n=_.nextSibling;return _.$$click=()=>s.restart_quiz(),n.$$click=()=>{q(()=>{let w=r().cursor_path;s.end_quiz(),r()._hidden_paths.clear(),Q(w)})},t})()]}})}}),p(X,{get when(){return s.mode===void 0},get children(){return[Ce(),pt(),(()=>{var t=vt(),_=t.firstChild,n=_.nextSibling;return _.$$click=()=>s.mode="moves",n.$$click=()=>s.mode="match",t})()]}}),p(X,{get when(){return s.mode==="match"},get children(){return[gt(),p(G,{get when(){return s.practice_end_result},get fallback(){return[(()=>{var t=Dt(),_=t.firstChild,n=_.nextSibling;return n.nextSibling,u(t,()=>s.match_color,n),t})(),Lt(),jt()]},get children(){return[Me(),Pe()]}}),(()=>{var t=ft(),_=t.firstChild,n=_.nextSibling;return _.$$click=()=>s.restart_match(),n.$$click=()=>{let w=r().cursor_path;s.end_match_or_moves(),r()._hidden_paths.clear(),Q(w)},t})()]}}),p(X,{get when(){return s.mode==="moves"},get children(){return[$t(),p(G,{get when(){return s.practice_end_result},get fallback(){return[Qt(),It()]},get children(){return[Me(),Pe()]}}),(()=>{var t=zt(),_=t.firstChild,n=_.nextSibling;return _.$$click=()=>{s.restart_moves()},n.$$click=()=>s.end_match_or_moves(),t})()]}})]}})),B(t=>{var _=x()||!r().can_navigate_up,n="fbt prev"+(!x()&&r().can_navigate_up?"":" disabled"),w=x()||!r().can_navigate_down,ve="fbt prev"+(!x()&&r().can_navigate_down?"":" disabled"),ge="fbt first"+(!x()&&r().can_navigate_prev?"":" disabled"),fe="fbt prev"+(!x()&&r().can_navigate_prev?"":" disabled"),$e="fbt next"+(!x()&&r().can_navigate_next?"":" disabled"),ze="fbt last"+(!x()&&r().can_navigate_next?"":" disabled"),qe="tab"+te("practice"),be="tab"+te("quiz");return _!==t.e&&(J.disabled=t.e=_),n!==t.t&&P(J,t.t=n),w!==t.a&&(le.disabled=t.a=w),ve!==t.o&&P(le,t.o=ve),ge!==t.i&&P(_e,t.i=ge),fe!==t.n&&P(ne,t.n=fe),$e!==t.s&&P(oe,t.s=$e),ze!==t.h&&P(de,t.h=ze),qe!==t.r&&P(ce,t.r=qe),be!==t.d&&P(pe,t.d=be),t},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0,n:void 0,s:void 0,h:void 0,r:void 0,d:void 0}),a})()]};Fe(["click"]);export{ss as default};
