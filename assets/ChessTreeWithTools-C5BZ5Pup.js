import{d as M,g as h,n as _,q as o,i as s,c as $,S as q,F as N,j as R,k as d,t as m}from"./index-DaPMTHvT.js";import{T as W,C as z}from"./Chesstree2-CC2gBSjM.js";var A=m("<div class=replay><div class=replay-v></div><div class=branch-sums><button data-icon=></button><button data-icon=></button></div><div class=replay-jump><button data-icon=></button><button data-icon=></button><button data-icon=></button><button data-icon=></button></div><div class=tools>"),B=m("<span class=index>"),D=m("<div class=fbt>");const G=n=>`${Math.floor(n/2)+1}.`+(n%2===0?"..":""),J=n=>{const i=h(()=>n.can_navigate),e=h(()=>W.make(n.pgn.tree.clone)),j=h(()=>e().collect_branch_sums(e().cursor_path));return _(o(()=>n.hide_after_path,a=>{e()._hidden_paths.clear(),a&&e()._hidden_paths.add_path(a)})),_(o(()=>n.on_wheel,a=>{a&&e().on_wheel(a)})),_(o(()=>e().fen_last_move,a=>{a&&n.on_fen_last_move(a)})),_(o(()=>n.cursor_path,a=>{e().cursor_path=a})),(()=>{var a=A(),x=a.firstChild,v=x.nextSibling,r=v.firstChild,u=r.nextSibling,k=v.nextSibling,b=k.firstChild,f=b.nextSibling,g=f.nextSibling,S=g.nextSibling,F=k.nextSibling;return s(x,$(z,{get lala(){return e()}})),r.$$click=()=>e().navigate_up(),u.$$click=()=>e().navigate_down(),s(v,$(N,{get each(){return j()},children:t=>(()=>{var l=D();return l.$$click=()=>e().try_set_cursor_path(t.path),s(l,$(q,{get when(){return t.ply&1},get children(){var c=B();return s(c,()=>G(t.ply)),c}}),null),s(l,()=>t.san,null),l})()}),null),b.$$click=()=>e().navigate_first(),f.$$click=()=>e().navigate_prev(),g.$$click=()=>e().navigate_next(),S.$$click=()=>e().navigate_last(),s(F,()=>n.children),R(t=>{var l=i()||!e().can_navigate_up,c="fbt prev"+(!i()&&e().can_navigate_up?"":" disabled"),p=i()||!e().can_navigate_down,C="fbt prev"+(!i()&&e().can_navigate_down?"":" disabled"),w="fbt first"+(!i()&&e().can_navigate_prev?"":" disabled"),y="fbt prev"+(!i()&&e().can_navigate_prev?"":" disabled"),T="fbt next"+(!i()&&e().can_navigate_next?"":" disabled"),E="fbt last"+(!i()&&e().can_navigate_next?"":" disabled");return l!==t.e&&(r.disabled=t.e=l),c!==t.t&&d(r,t.t=c),p!==t.a&&(u.disabled=t.a=p),C!==t.o&&d(u,t.o=C),w!==t.i&&d(b,t.i=w),y!==t.n&&d(f,t.n=y),T!==t.s&&d(g,t.s=T),E!==t.h&&d(S,t.h=E),t},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0,n:void 0,s:void 0,h:void 0}),a})()};M(["click"]);export{J as C,G as p};
