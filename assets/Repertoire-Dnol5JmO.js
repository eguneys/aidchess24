var Ie=Object.defineProperty;var Le=(h,t,i)=>t in h?Ie(h,t,{enumerable:!0,configurable:!0,writable:!0,value:i}):h[t]=i;var A=(h,t,i)=>(Le(h,typeof t!="symbol"?t+"":t,i),i);import{j as je,k as Qe,l as D,u as Ne,i as u,c as v,S as O,e as p,m as b,a as Ye,F as se,g as K,h as P,s as we,n as Ae,o as R,p as W,q as Oe,r as ke,v as ie,M as X,w as S,f as Fe,d as Ge,t as l}from"./index-DqX9ZEU6.js";/* empty css                   */import{S as We,R as Be}from"./studyrepo-DyVkuhwf.js";import{S as He,C as Ke}from"./Shalala-B_JX5Dyq.js";import{T as Ue,a as ue,C as Ve}from"./Chesstree2-B-q4OY8r.js";import{M as Je,I as Xe}from"./chess_pgn_logic-BZsrL4fn.js";import{O as Ze,S as et,D as tt,a as Se}from"./SessionStore-CkNGRCTr.js";import{s as st}from"./scroll-DnAhRpRC.js";var rt=l("<div class=progress-wrap><div class=progress><div class=bar></div></div><h5>%"),at=l("<div class=repertoire>"),it=l("<div class=sections-wrap><h2 class=title> <span>%</span></h2><div class=sections-scroll><div class=sections>"),lt=l("<a class=delete> Delete Study "),nt=l("<div class=tools>"),_t=l("<div class=section><input type=radio name=accordion><label> <span class=progress>%</span></label><div class=chapters>"),ot=l("<div><div class=title><span class=no>.</span> <!> "),ct=l("<div class=board-wrap>"),ht=l("<div class=eval-gauge>"),xe=l("<small> Click on variations to expand. "),ut=l("<small> Your goal is to guess every move correctly to pass the quiz. "),dt=l("<div class=in_mode><button><span> Take Quiz </span></button><button><span> Play Deathmatch "),mt=l("<h2>Deathmatch Mode"),Ce=l("<span class=passed>passed"),pt=l("<small> Deathmatch "),vt=l("<small> Your score: "),Me=l("<small> Progress +<!>% "),gt=l("<div class=in_mode><button><span> Restart Deathmatch </span></button><button class=end2><span> End Deathmatch "),ft=l("<small> Quiz "),$t=l("<small> Your score: <!> out of 15 correct"),zt=l("<div class=past>"),qt=l("<div class=in_mode><button><span> Restart Quiz </span></button><button class=end2><span> End Quiz "),bt=l("<small> Your goal is to guess every move correctly to fill up the progress bar. "),yt=l("<div class=in_mode><button><span> Play all Moves </span></button><button><span> Play as Match "),wt=l("<h2>Play as Match"),Ee=l("<small> End of practice. "),Pe=l("<small> Congratulations. "),kt=l("<div class=in_mode><button><span> Rematch </span></button><button class=end2><span> End Practice "),St=l("<h2>Play all moves"),xt=l("<div class=in_mode><button><span> Clear </span></button><button class=end2><span> End Practice "),Ct=l("<div class=replay-wrap><div class=replay-header><div class=title><h4></h4><h5></h5></div></div><div class=replay><div class=replay-v></div><div class=branch-sums><button data-icon=></button><button data-icon=></button></div><div class=replay-jump><button data-icon=></button><button data-icon=></button><button data-icon=></button><button data-icon=></button></div><div class=tools><div class=tabs><h3>Practice</h3><h3>Quiz</h3></div><div class=content>"),Mt=l('<div class=line><span class="fill white"></span><span class="fill black">'),Et=l("<span class=index>"),Pt=l("<div class=fbt>"),Tt=l("<small>You will play the moves from the opening."),Rt=l("<small>If you go out of book, game ends."),Dt=l("<div class=in_mode><button class=end2><span> End Deathmatch "),Te=l("<span class=failed>failed"),It=l("<h3>Quiz Mode"),Lt=l("<small>You are given 15 random positions from the opening."),jt=l("<small>Guess the correct move."),Qt=l("<h2> of 15"),Nt=l("<div class=in_mode><button class=end2><span> End Quiz "),Yt=l("<span>"),At=l("<small> Try to guess the moves for <!>."),Ot=l("<small> AI will play the next move, picking a random variation. "),Ft=l("<small> Moves will be hidden once the game is started. "),Gt=l("<small>Try to guess the moves for both sides."),Wt=l("<small>Moves will be hidden once you start.");const Bt=["#afacc6","#0d2b45","#203c56","#544e68","#8d697a","#d08159"],Ht=h=>Bt[Math.floor((1-h/10)*6)],Kt=h=>`${Math.floor(h/2)+1}.`+(h%2===0?"..":"");class Ut{constructor(){A(this,"_mode");A(this,"_match_color");A(this,"_practice_end_result");A(this,"_quiz_quiz_ls_paths",[]);A(this,"_quiz_quiz_ls");A(this,"_quiz_deathmatch_fail");A(this,"_quiz_deathmatch_result_path");this._mode=D(void 0,{equals:!1}),this._match_color=D("white"),this._quiz_quiz_ls=D([],{equals:!1}),this._quiz_deathmatch_fail=D(0),this._quiz_deathmatch_result_path=D([]),this._practice_end_result=D(!1)}get mode(){return this._mode[0]()}set mode(t){this._mode[1](t)}get match_color(){return this._match_color[0]()}set match_color(t){this._match_color[1](t)}flip_match_color(){this.match_color=this.match_color==="white"?"black":"white"}get practice_end_result(){return this._practice_end_result[0]()}set practice_end_result(t){this._practice_end_result[1](t)}get i_quiz_quiz(){return this.quiz_quiz_ls.length+1}restart_match(){S(()=>{this.practice_end_result=!1,this.mode="match",this.flip_match_color()})}restart_moves(){S(()=>{this.practice_end_result=!1,this.mode="moves",this.flip_match_color()})}end_match_or_moves(){S(()=>{this.practice_end_result=!1,this.mode=void 0})}restart_quiz(){S(()=>{this.quiz_quiz_ls=[],this._quiz_quiz_ls_paths=[],this.mode="quiz-quiz"})}end_quiz(){S(()=>{this.quiz_quiz_ls=[],this._quiz_quiz_ls_paths=[],this.mode="quiz"})}quiz_pass_one(t){S(()=>{this.quiz_quiz_ls.push(1),this.quiz_quiz_ls=this.quiz_quiz_ls,this._quiz_quiz_ls_paths.push(t)})}quiz_fail_one(t){S(()=>{this.quiz_quiz_ls.push(-1),this.quiz_quiz_ls=this.quiz_quiz_ls,this._quiz_quiz_ls_paths.push(t)})}get quiz_pass(){return this.quiz_quiz_ls.filter(t=>t>0).length}get quiz_quiz_ls(){return this._quiz_quiz_ls[0]()}set quiz_quiz_ls(t){this._quiz_quiz_ls[1](t)}set quiz_deathmatch_fail_result(t){this._quiz_deathmatch_fail[1](t)}get quiz_deathmatch_fail_result(){return this._quiz_deathmatch_fail[0]()}get quiz_deathmatch_result_path(){return this._quiz_deathmatch_result_path[0]()}set quiz_deathmatch_result_path(t){this._quiz_deathmatch_result_path[1](t)}restart_deathmatch(){S(()=>{this.flip_match_color(),this.quiz_deathmatch_fail_result=0,this.mode="quiz-deathmatch"})}end_deathmatch(){S(()=>{this.quiz_deathmatch_fail_result=0,this.mode="quiz",this.flip_match_color()})}}const Vt=h=>(()=>{var t=rt(),i=t.firstChild,d=i.firstChild,_=i.nextSibling,f=_.firstChild;return u(_,()=>h.width,f),K(E=>ie(d,`width: ${h.width}%`,E)),t})();class Jt{constructor(t){this.sections=t}get progress(){let t=this.sections.length;return this.sections.map(i=>Math.round(i.progress/t)).reduce((i,d)=>i+d)}section_by_name(t){return this.sections.find(i=>i.name===t)}}class Xt{constructor(t){A(this,"m_progress");this.chapters=t,this.m_progress=p(()=>{let i=this.chapters.length;return this.chapters.map(d=>Math.round(d.progress/i)).reduce((d,_)=>d+_)})}get name(){return this.chapters[0].section}get progress(){return this.m_progress()}chapter_by_name(t){return this.chapters.find(i=>i.chapter===t)}}class H{constructor(t,i,d,_,f){this.study_id=t,this.section=i,this.chapter=d,this.score_tree=_,this.solved_paths=f}static load_from_store(t,i,d){var E,x;let _=new Se(t.id,i,d),f=(x=(E=t.sections.find(I=>I.name===i))==null?void 0:E.chapters.find(I=>I.name===d))==null?void 0:x.pgn.tree;if(f)return H.make(t.id,i,d,f,ue.set_for_saving(_.solved_paths))}static save_paths_to_store(t){let i=new Se(t.study_id,t.section,t.chapter);i.solved_paths=t.solved_paths.get_for_saving(),i.practice_progress=t.progress}static make(t,i,d,_,f=new ue){return new H(t,i,d,Je.make(_),f)}get clone(){return new H(this.study_id,this.section,this.chapter,this.score_tree,this.solved_paths.clone)}get progress(){return Math.round(this.solved_paths.paths.map(t=>R(()=>{var i;return(i=this.score_tree.get_at(t))==null?void 0:i.score})??0).reduce((t,i)=>t+i,0)*100)}get progress_map(){let t=R(()=>this.score_tree.progress_paths);const i=R(()=>t.map(d=>[d.filter(_=>_.length%2===1).map(_=>this.score_tree.get_at(_).score).reduce((_,f)=>_+f,0),d.filter(_=>_.length%2===0).map(_=>this.score_tree.get_at(_).score).reduce((_,f)=>_+f,0)]));return t.map((d,_)=>{let f=d[0],E=d[d.length-1],x=i[_][0],I=i[_][1],s=p(()=>this.solved_paths.paths),y=p(()=>s().filter(g=>d.some(L=>L.join("")===g.join("")))),a=p(()=>y().filter(g=>g.length%2===1).map(g=>this.score_tree.get_at(g).score).reduce((g,L)=>g+L,0)),Q=p(()=>y().filter(g=>g.length%2===0).map(g=>this.score_tree.get_at(g).score).reduce((g,L)=>g+L,0));return{color:Ht(f.length/20+E.length/10),total:x+I,black:p(()=>Q()/I),white:p(()=>a()/x),path:E}}).reverse()}clone_merge_stats(t){let i=R(()=>this.clone);return i.solved_paths.merge_dup(t.solved_paths),i}merge_and_save_stats(t){this.solved_paths.merge_dup(t.solved_paths),this.save_stats()}save_stats(){H.save_paths_to_store(this)}}const cs=()=>{const h=je(),[t]=Qe(h.id,We.read_section_study);let[i,d]=D();return(()=>{var _=at();return Ne(f=>d(f),_),u(_,v(O,{get when(){return t()},fallback:"Loading...",get children(){return v(Zt,{get el_rep(){return i()},get section_study(){return t()}})}})),_})()},Zt=h=>{let t=p(()=>h.section_study.sections),i=new Ze(h.section_study.id),d=0,_=t().findIndex(z=>z.name===et.i_section);_===-1&&(_=t().findIndex(z=>z.name===i.i_section_name),_===-1?_=0:d=i.i_chapter_index);const[f,E]=D(_),x=p(()=>t()[f()]),I=p(()=>x().chapters),[s,y]=D(d),a=z=>{S(()=>{y(0),E(z)})};b(()=>{i.i_section_name=x().name}),b(()=>{i.i_chapter_index=s()});const Q=p(()=>I()[s()]);let g=p(()=>{const z=h.section_study;return new Jt(z.sections.map(T=>new Xt(T.chapters.map(w=>H.load_from_store(z,T.name,w.name)))))});const L=new tt(h.section_study.id);b(()=>{L.progress=g().progress}),b(()=>{L.sections_progress=g().sections.map(z=>[z.name,z.progress])});const re=Ye(),Z=()=>{Be.delete_imported_study(h.section_study.id),console.log("done"),re("/repertoires")};return[(()=>{var z=it(),T=z.firstChild,w=T.firstChild,N=w.nextSibling,ae=N.firstChild,le=T.nextSibling,ne=le.firstChild;return u(T,()=>h.section_study.name,w),u(N,()=>g().progress,ae),u(ne,v(se,{get each(){return t()},children:(U,F)=>(()=>{var V=_t(),Y=V.firstChild,C=Y.nextSibling,ee=C.firstChild,te=ee.nextSibling,r=te.firstChild,o=C.nextSibling;return C.$$click=()=>a(F()),u(C,()=>U.name,ee),u(te,()=>g().section_by_name(U.name).progress,r),u(o,v(se,{get each(){return U.chapters},children:(m,q)=>(()=>{var k=ot(),$=k.firstChild,j=$.firstChild,B=j.firstChild,G=j.nextSibling,J=G.nextSibling;return J.nextSibling,k.$$click=()=>y(q()),u(j,()=>q()+1,B),u($,()=>m.name,J),u(k,v(Vt,{get width(){return g().section_by_name(U.name).chapter_by_name(m.name).progress}}),null),K(()=>P(k,"chapter"+(q()===s()?" active":""))),k})()})),K(m=>{var q=`accordion-${F()}`,k=f()===F()?"active":"",$=`accordion-${F()}`;return q!==m.e&&we(Y,"id",m.e=q),k!==m.t&&P(C,m.t=k),$!==m.a&&we(C,"for",m.a=$),m},{e:void 0,t:void 0,a:void 0}),K(()=>Y.checked=f()===F()),V})()})),z})(),v(es,{get el_rep(){return h.el_rep},get stats(){return g().section_by_name(x().name).chapter_by_name(Q().name)},get study(){return h.section_study},get section(){return x()},get chapter(){return Q()}}),(()=>{var z=nt();return u(z,v(O,{get when(){return h.section_study.imported},get children(){var T=lt();return T.$$click=()=>Z(),T}})),z})()]},es=h=>{const t=Ae();t.setVolume(.2);const i=p(()=>h.study),d=p(()=>h.section),_=p(()=>h.chapter),f=p(()=>i().name),E=p(()=>d().name),x=p(()=>_().name),I=p(()=>_().pgn);let s=new Ut,y=new He;const a=p(()=>(s.mode,Ue.make(I().tree.clone))),Q=p(()=>{let r=a().tree;return R(()=>H.make(f(),E(),x(),r,new ue))});let g=p(()=>h.stats);const[L,re]=D(!1),Z=p(()=>{if(s.mode==="quiz-quiz")return s.i_quiz_quiz===16});let z=p(()=>{let r=g(),o=Q(),m=R(()=>r.progress);return r.clone_merge_stats(o).progress-m});const T=p(()=>Q().progress_map);let[w,N]=D(!1);const ae=r=>{let o=s.mode;if(r==="practice"){if(o===void 0||o==="match"||o==="moves")return" active"}else if(o==="quiz"||o==="quiz-quiz"||o==="quiz-deathmatch")return" active";return""},le=p(()=>s.mode!==void 0&&!Z()&&!s.practice_end_result&&!s.quiz_deathmatch_fail_result),ne=p(()=>a().collect_branch_sums(a().cursor_path)),U=p(W(()=>s.quiz_deathmatch_result_path,r=>{var q,k;let o=r.length,m=(k=(q=a().tree)==null?void 0:q.all_leaves.map($=>$.path).filter($=>!a().failed_paths.find(j=>j.join("")===$.join(""))).filter($=>$.join("").startsWith(r.join("")))[0])==null?void 0:k.length;return`${o} out of ${m}`}));b(()=>{if(s.mode==="quiz-quiz"){let r=Z();s.quiz_quiz_ls[s.quiz_quiz_ls.length-1]<0&&(re(!0),setTimeout(()=>{re(!1)},500)),r?(t.play("victory"),R(()=>{a().clear_failed_paths(),a()._hidden_paths.clear()})):(N(!0),setTimeout(()=>{S(()=>R(()=>{a().set_random_cursor_hide_rest(),s.match_color=a().cursor_after_color;let m=a().cursor_path;C(m.slice(0,-1)),setTimeout(()=>{a().cursor_path=m,N(!1)},200)}))},100))}}),b(()=>{let{mode:r,match_color:o}=s;r==="quiz-deathmatch"&&o==="black"&&setTimeout(()=>{R(()=>{a().reveal_one_random()})},400)}),b(()=>{a().solved_paths.replace_all(g().solved_paths)}),b(()=>{R(()=>Q()).solved_paths.replace_all(a().solved_paths)}),b(W(()=>[g(),Q()],(r,o)=>{if(o){let[m,q]=o;m.merge_and_save_stats(q)}})),b(W(()=>y.add_uci,r=>{if(w()||!r)return;a().try_next_uci_fail(r)?(F(),s.mode==="quiz-quiz"&&s.quiz_pass_one(a().cursor_path)):((s.mode==="match"||s.mode==="moves")&&(N(!0),setTimeout(()=>{a().on_wheel(-1),N(!1)},100)),s.mode==="quiz-quiz"&&(s.quiz_fail_one(a().cursor_path.slice(0,-1)),t.play("error")),s.mode==="quiz-deathmatch"&&(s.quiz_deathmatch_fail_result=-1,s.quiz_deathmatch_result_path=a().cursor_path.slice(0,-1),a()._hidden_paths.clear()))})),b(W(()=>s.quiz_deathmatch_fail_result,r=>{(r>0||r<0)&&t.play("victory")})),b(W(()=>s.practice_end_result,r=>{r&&t.play("victory")})),b(()=>{let{mode:r,match_color:o}=s;r==="match"&&o==="black"&&R(()=>{F()})}),b(W(()=>a().fen_last_move,r=>{if(r){let[o,m]=r;y.on_set_fen_uci(o,m)}else y.on_set_fen_uci(Xe)}));const F=()=>{let r=()=>a().is_cursor_path_at_a_leaf;r()?s.mode==="quiz-deathmatch"?(s.quiz_deathmatch_fail_result=1,s.quiz_deathmatch_result_path=a().cursor_path):(s.mode==="match"||s.mode==="moves")&&(s.practice_end_result=!0):(s.mode==="match"||s.mode==="quiz-deathmatch")&&(N(!0),setTimeout(()=>{a().reveal_one_random(),r()&&(s.mode==="quiz-deathmatch"?(s.quiz_deathmatch_fail_result=1,s.quiz_deathmatch_result_path=a().cursor_path):(s.mode==="match"||s.mode==="moves")&&(s.practice_end_result=!0)),N(!1)},400))};b(()=>{s.match_color=i().orientation??"white"});let V=!1;b(W(()=>{var r;return(r=a().tree)==null?void 0:r.get_at(a().cursor_path)},r=>{if(r){if(V){V=!1;return}t.move(r)}}));const Y=r=>{w()||(s.mode=r)},C=r=>{V=!0,a().cursor_path=r};b(W(()=>y.on_wheel,r=>{r&&a().on_wheel(r)}));const ee=r=>{r.key==="f"&&s.flip_match_color()};Oe(()=>{document.addEventListener("keypress",ee)}),ke(()=>{document.removeEventListener("keypress",ee)});const te=st(r=>{const o=r.target;o.tagName!=="PIECE"&&o.tagName!=="SQUARE"&&o.tagName!=="CG-BOARD"||(r.preventDefault(),y.set_on_wheel(Math.sign(r.deltaY)))});return b(()=>{const r=h.el_rep;r&&(r.addEventListener("wheel",te,{passive:!1}),ke(()=>{r.removeEventListener("wheel",te)}))}),[(()=>{var r=ct();return u(r,v(Ke,{get orientation(){return s.match_color},get movable(){return le()},get doPromotion(){return y.promotion},get onMoveAfter(){return y.on_move_after},get fen_uci(){return y.fen_uci},get color(){return y.turnColor},get dests(){return y.dests}})),r})(),(()=>{var r=ht();return u(r,v(se,{get each(){return T()},children:o=>(()=>{var m=Mt(),q=m.firstChild,k=q.nextSibling;return m.$$click=$=>a().try_set_cursor_path(o.path),K($=>{var j=`background: ${o.color}; height: ${o.total*100}%`,B=`height: ${o.white()*100}%`,G=`height: ${o.black()*100}%`;return $.e=ie(m,j,$.e),$.t=ie(q,B,$.t),$.a=ie(k,G,$.a),$},{e:void 0,t:void 0,a:void 0}),m})()})),r})(),(()=>{var r=Ct(),o=r.firstChild,m=o.firstChild,q=m.firstChild,k=q.nextSibling,$=o.nextSibling,j=$.firstChild,B=j.nextSibling,G=B.firstChild,J=G.nextSibling,de=B.nextSibling,_e=de.firstChild,oe=_e.nextSibling,ce=oe.nextSibling,me=ce.nextSibling,Re=de.nextSibling,pe=Re.firstChild,he=pe.firstChild,ve=he.nextSibling,De=pe.nextSibling;return u(q,E),u(k,x),u(j,v(Ve,{get lala(){return a()}})),G.$$click=()=>a().navigate_up(),J.$$click=()=>a().navigate_down(),u(B,v(se,{get each(){return ne()},children:e=>(()=>{var n=Pt();return n.$$click=()=>a().try_set_cursor_path(e.path),u(n,v(O,{get when(){return e.ply&1},get children(){var c=Et();return u(c,()=>Kt(e.ply)),c}}),null),u(n,()=>e.san,null),n})()}),null),_e.$$click=()=>a().navigate_first(),oe.$$click=()=>a().navigate_prev(),ce.$$click=()=>a().navigate_next(),me.$$click=()=>a().navigate_last(),he.$$click=()=>s.end_match_or_moves(),ve.$$click=()=>Y("quiz"),u(De,v(Fe,{get children(){return[v(X,{get when(){return s.mode==="quiz"},get children(){return[xe(),ut(),(()=>{var e=dt(),n=e.firstChild,c=n.nextSibling;return n.$$click=()=>Y("quiz-quiz"),c.$$click=()=>Y("quiz-deathmatch"),e})()]}}),v(X,{get when(){return s.mode==="quiz-deathmatch"},get children(){return[mt(),v(O,{get when(){return s.quiz_deathmatch_fail_result!==0},get fallback(){return[Tt(),Rt(),(()=>{var e=Dt(),n=e.firstChild;return n.$$click=()=>{S(()=>{let c=a().cursor_path.slice(0,-1);s.end_deathmatch(),a()._hidden_paths.clear(),C(c)})},e})()]},get children(){return[(()=>{var e=pt();return e.firstChild,u(e,v(O,{get when(){return s.quiz_deathmatch_fail_result>0},get fallback(){return Te()},get children(){return[" ",Ce()]}}),null),e})(),(()=>{var e=vt();return e.firstChild,u(e,U,null),e})(),(()=>{var e=Me(),n=e.firstChild,c=n.nextSibling;return c.nextSibling,u(e,z,c),e})(),(()=>{var e=gt(),n=e.firstChild,c=n.nextSibling;return n.$$click=()=>s.restart_deathmatch(),c.$$click=()=>{S(()=>{let M=a().cursor_path.slice(0,-1);s.end_deathmatch(),a()._hidden_paths.clear(),C(M)})},e})()]}})]}}),v(X,{get when(){return s.mode==="quiz-quiz"},get children(){return v(O,{get when(){return Z()},get fallback(){return[It(),Lt(),jt(),(()=>{var e=Qt(),n=e.firstChild;return u(e,()=>s.i_quiz_quiz,n),K(()=>P(e,L()?"error":"")),e})(),(()=>{var e=Nt(),n=e.firstChild;return n.$$click=()=>{S(()=>{let c=a().cursor_path;s.end_quiz(),a()._hidden_paths.clear(),C(c)})},e})()]},get children(){return[(()=>{var e=ft();return e.firstChild,u(e,v(O,{get when(){return s.quiz_pass>10},get fallback(){return Te()},get children(){return[" ",Ce()]}}),null),e})(),(()=>{var e=$t(),n=e.firstChild,c=n.nextSibling;return c.nextSibling,u(e,()=>s.quiz_pass,c),e})(),(()=>{var e=Me(),n=e.firstChild,c=n.nextSibling;return c.nextSibling,u(e,z,c),e})(),(()=>{var e=zt();return u(e,v(se,{get each(){return s.quiz_quiz_ls},children:(n,c)=>(()=>{var M=Yt();return M.$$click=()=>a().cursor_path=s._quiz_quiz_ls_paths[c()],P(M,"move "+(n>0?"success":"error")),u(M,()=>c()+1),M})()})),e})(),(()=>{var e=qt(),n=e.firstChild,c=n.nextSibling;return n.$$click=()=>s.restart_quiz(),c.$$click=()=>{S(()=>{let M=a().cursor_path;s.end_quiz(),a()._hidden_paths.clear(),C(M)})},e})()]}})}}),v(X,{get when(){return s.mode===void 0},get children(){return[xe(),bt(),(()=>{var e=yt(),n=e.firstChild,c=n.nextSibling;return n.$$click=()=>Y("moves"),c.$$click=()=>Y("match"),e})()]}}),v(X,{get when(){return s.mode==="match"},get children(){return[wt(),v(O,{get when(){return s.practice_end_result},get fallback(){return[(()=>{var e=At(),n=e.firstChild,c=n.nextSibling;return c.nextSibling,u(e,()=>s.match_color,c),e})(),Ot(),Ft()]},get children(){return[Ee(),Pe()]}}),(()=>{var e=kt(),n=e.firstChild,c=n.nextSibling;return n.$$click=()=>s.restart_match(),c.$$click=()=>{let M=a().cursor_path;s.end_match_or_moves(),a()._hidden_paths.clear(),C(M)},e})()]}}),v(X,{get when(){return s.mode==="moves"},get children(){return[St(),v(O,{get when(){return s.practice_end_result},get fallback(){return[Gt(),Wt()]},get children(){return[Ee(),Pe()]}}),(()=>{var e=xt(),n=e.firstChild,c=n.nextSibling;return n.$$click=()=>{s.restart_moves()},c.$$click=()=>s.end_match_or_moves(),e})()]}})]}})),K(e=>{var n=w()||!a().can_navigate_up,c="fbt prev"+(!w()&&a().can_navigate_up?"":" disabled"),M=w()||!a().can_navigate_down,ge="fbt prev"+(!w()&&a().can_navigate_down?"":" disabled"),fe="fbt first"+(!w()&&a().can_navigate_prev?"":" disabled"),$e="fbt prev"+(!w()&&a().can_navigate_prev?"":" disabled"),ze="fbt next"+(!w()&&a().can_navigate_next?"":" disabled"),qe="fbt last"+(!w()&&a().can_navigate_next?"":" disabled"),be="tab"+ae("practice"),ye="tab"+ae("quiz");return n!==e.e&&(G.disabled=e.e=n),c!==e.t&&P(G,e.t=c),M!==e.a&&(J.disabled=e.a=M),ge!==e.o&&P(J,e.o=ge),fe!==e.i&&P(_e,e.i=fe),$e!==e.n&&P(oe,e.n=$e),ze!==e.s&&P(ce,e.s=ze),qe!==e.h&&P(me,e.h=qe),be!==e.r&&P(he,e.r=be),ye!==e.d&&P(ve,e.d=ye),e},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0,n:void 0,s:void 0,h:void 0,r:void 0,d:void 0}),r})()]};Ge(["click"]);export{cs as default};
