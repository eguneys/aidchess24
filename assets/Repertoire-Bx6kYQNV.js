import{h as y,j as x,k as E,l as R,b as k,i as r,c as d,F as A,f,g as N,S,s as P,d as D,t as c,m as M}from"./index-B8cdpkBa.js";/* empty css                   */import{S as F}from"./studyrepo-BHnCgju4.js";import{S as L,C as j}from"./Shalala-DZ-QRb1C.js";import"./chess_pgn_logic-CrqMqGtU.js";var B=c("<div class=progress><div class=bar></div><h3>"),G=c("<div class=list-wrap><h1 class=header>Repertoire</h1><div class=list><div><h3 class=title></h3></div><ul>"),I=c("<div class=repertoire>"),O=c("<li><div><h3></h3> "),Q=c("<div class=board-wrap>"),U=c("<div class=replay-wrap><div class=replay-header><div class=title><h5>Slav Defense</h5><h4></h4></div><h3 class=lichess><a target=_blank>lichess</a></h3></div><div class=replay><div class=replay-v>");const w=_=>(()=>{var a=B(),h=a.firstChild,m=h.nextSibling;return r(m,()=>`%${_.width}`),f(u=>M(h,`width: ${_.width}%`,u)),a})(),J=()=>{const _=y(),[a]=x(_.id,F.read_study),[h,m]=E();R(()=>{var e;let t=(e=a())==null?void 0:e.chapters[0].name;m(t)});const u=k(()=>{var t;return(t=a())==null?void 0:t.chapters.find(e=>e.name===h())});let s=new L;const b=t=>{const e=t.target;e.tagName!=="PIECE"&&e.tagName!=="SQUARE"&&e.tagName!=="CG-BOARD"||(t.preventDefault(),s.set_on_wheel(Math.sign(t.deltaY)))};return(()=>{var t=I();return t.addEventListener("wheel",b),r(t,d(S,{get when(){return!a.loading},fallback:"Loading...",get children(){var e=G(),l=e.firstChild,v=l.nextSibling,i=v.firstChild,$=i.firstChild,p=i.nextSibling;return r($,()=>a().name),r(i,d(w,{width:30}),null),r(p,d(A,{get each(){return a().chapters},children:o=>(()=>{var n=O(),g=n.firstChild,C=g.firstChild;return C.nextSibling,n.$$click=()=>m(o.name),r(C,()=>o.name),r(g,d(w,{width:0}),null),f(()=>N(n,h()===o.name?"active":"")),n})()})),e}}),null),r(t,d(S,{get when(){return u()},children:e=>[(()=>{var l=Q();return r(l,d(j,{get doPromotion(){return s.promotion},get onMoveAfter(){return s.on_move_after},get fen_uci(){return s.fen_uci},get color(){return s.turnColor},get dests(){return s.dests}})),l})(),(()=>{var l=U(),v=l.firstChild,i=v.firstChild,$=i.firstChild,p=$.nextSibling,o=i.nextSibling,n=o.firstChild;return r(p,()=>e().name),f(()=>P(n,"href",e().site)),l})()]}),null),t})()};D(["click"]);export{J as default};
