import{a as $,i as l,c as i,S as g,t as a,f as v,l as R,F as h,A as x,C as k,D as u,d as N}from"./index-lQPOjFMe.js";import{R as F,S as D}from"./studyrepo-DTRy2qGV.js";import"./chess_pgn_logic-DzrDPmOl.js";var E=a("<div class=repeat-show>"),L=a("<div class=new-repeat><h3>Create a New Repeat</h3><div class=study-list><h3>Studies</h3><div class=list></div></div><div class=section-list><h3>Sections</h3><div class=list></div></div><button class=save> Save "),A=a("<div class=none>"),I=a("<div class=study>"),M=a("<p>Select a Study"),j=a("<div class=section><input type=checkbox>"),q=a("<div class=dialog><div class=overlay></div><div class=content>"),z=a("<div class=list-wrap><h3>Repeats</h3><div class=list></div><button>Create a New Repeat"),B=a("<div class=show><button>Create a New Repeat");const T=()=>{const[r,e]=$(!1),t=()=>{e(!0)};return(()=>{var s=E();return l(s,i(J,{on_create_repeat:t}),null),l(s,i(K,{on_create_repeat:t}),null),l(s,i(g,{get when(){return r()},get children(){return i(G,{onClose:()=>e(!1)})}}),null),s})()},G=r=>{const e=v(F.imported[0]),[t,s]=$(0),d=v(()=>e()[t()]),[m]=R(()=>d()?.study_id,o=>D.read_section_study(o));return i(H,{get onClose(){return r.onClose},get children(){var o=L(),S=o.firstChild,p=S.nextSibling,f=p.firstChild,C=f.nextSibling,b=p.nextSibling,w=b.firstChild,y=w.nextSibling;return l(C,i(h,{get each(){return e()},get fallback(){return(()=>{var c=A();return l(c,i(x,{href:"/repertoires",children:"Import some studies first"})),c})()},children:(c,_)=>(()=>{var n=I();return n.$$click=()=>s(_()),l(n,()=>c.study_name),n})()})),l(y,i(g,{get when(){return m()},children:c=>i(h,{get each(){return c().sections},get fallback(){return M()},children:_=>(()=>{var n=j();return n.firstChild,l(n,()=>_.name,null),n})()})})),o}})},H=r=>{const e=k(()=>r.children);return(()=>{var t=q(),s=t.firstChild,d=s.nextSibling;return u(s,"click",r.onClose,!0),l(d,e),t})()},J=r=>(()=>{var e=z(),t=e.firstChild,s=t.nextSibling,d=s.nextSibling;return u(d,"click",r.on_create_repeat,!0),e})(),K=r=>(()=>{var e=B(),t=e.firstChild;return u(t,"click",r.on_create_repeat,!0),e})();N(["click"]);export{T as default};
