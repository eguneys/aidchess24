import{k as Qe,l as Ne,m as Ye,a as R,u as Oe,i as h,c as g,S as I,f as m,n as b,b as Fe,h as G,s as me,F as ee,j as D,o as Ue,p as T,q as U,r as Ee,v as pe,w as le,M as V,x as S,g as Ge,d as Ke,t as i,y as We,R as ge,I as Be}from"./index-D0kh0AZe.js";/* empty css                   */import{S as He,C as Ve}from"./Chessboard-CS0QBQgb.js";import{T as Je,a as ve,t as Xe,C as Ze}from"./Chesstree2-CeOMZPVi.js";import{O as et,S as tt,D as st,a as Pe}from"./SessionStore-Cbph7nLs.js";import{s as rt}from"./scroll-DnAhRpRC.js";import{a as at}from"./annotationShapes-BCiyzDdu.js";var it=i("<div class=progress-wrap><div class=progress><div class=bar></div></div><h5>%"),lt=i("<div class=repertoire>"),nt=i("<div class=sections-wrap><h2 class=title> <span>%</span></h2><div class=info></div><div class=sections-scroll><div class=sections>"),_t=i("<a class=update>Update Study"),ot=i("<a class=delete> Delete Study "),ct=i("<div class=tools><a class=delete> Clear Progress "),ht=i("<a target=_blank>lichess"),ut=i("<div class=section><input type=radio name=accordion><label> <span class=progress>%</span></label><div class=chapters>"),dt=i("<div><div class=title><span class=no>.</span> <!> "),mt=i("<div class=board-wrap>"),pt=i("<div class=eval-gauge>"),Me=i("<small> Click on variations to expand. "),gt=i("<small> Your goal is to guess every move correctly to pass the quiz. "),vt=i("<div class=in_mode><button><span> Take Quiz </span></button><button><span> Play Deathmatch "),ft=i("<h2>Deathmatch Mode"),De=i("<span class=passed>passed"),$t=i("<small> Deathmatch "),zt=i("<small> Your score: "),Te=i("<small> Progress +<!>% "),qt=i("<div class=in_mode><button><span> Restart Deathmatch </span></button><button class=end2><span> End Deathmatch "),bt=i("<small> Quiz "),yt=i("<small> Your score: <!> out of 15 correct"),wt=i("<div class=past>"),kt=i("<div class=in_mode><button><span> Restart Quiz </span></button><button class=end2><span> End Quiz "),St=i("<small> Your goal is to guess every move correctly to fill up the progress bar. "),xt=i("<div class=in_mode><button><span> Play all Moves </span></button><button><span> Play as Match "),Ct=i("<h2>Play as Match"),Re=i("<small> End of practice. "),Le=i("<small> Congratulations. "),Et=i("<div class=in_mode><button><span> Rematch </span></button><button class=end2><span> End Practice "),Pt=i("<h2>Play all moves"),Mt=i("<div class=in_mode><button><span> Clear </span></button><button class=end2><span> End Practice "),Dt=i("<div class=replay-wrap><div class=replay-header><div class=title><h4></h4><h5></h5></div></div><div class=replay><div class=replay-v></div><div class=branch-sums><button data-icon=></button><button data-icon=></button></div><div class=replay-jump><button data-icon=></button><button data-icon=></button><button data-icon=></button><button data-icon=></button></div><div class=tools><div class=tabs><h3>Practice</h3><h3>Quiz</h3></div><div class=content>"),Tt=i('<div class=line><span class="fill white"></span><span class="fill black">'),Rt=i("<span class=index>"),Lt=i("<div class=fbt>"),At=i("<small>You will play the moves from the opening."),It=i("<small>If you go out of book, game ends."),jt=i("<div class=in_mode><button class=end2><span> End Deathmatch "),Ae=i("<span class=failed>failed"),Qt=i("<h3>Quiz Mode"),Nt=i("<small>You are given 15 random positions from the opening."),Yt=i("<small>Guess the correct move."),Ot=i("<h2> of 15"),Ft=i("<div class=in_mode><button class=end2><span> End Quiz "),Ut=i("<span>"),Gt=i("<small> Try to guess the moves for <!>."),Kt=i("<small> AI will play the next move, picking a random variation. "),Wt=i("<small> Moves will be hidden once the game is started. "),Bt=i("<small>Try to guess the moves for both sides."),Ht=i("<small>Moves will be hidden once you start.");const Vt=["#afacc6","#0d2b45","#203c56","#544e68","#8d697a","#d08159"],Jt=u=>Vt[Math.floor((1-u/10)*6)],Xt=u=>`${Math.floor(u/2)+1}.`+(u%2===0?"..":"");class Zt{_mode;get mode(){return this._mode[0]()}set mode(r){this._mode[1](r)}_match_color;get match_color(){return this._match_color[0]()}set match_color(r){this._match_color[1](r)}flip_match_color(){this.match_color=this.match_color==="white"?"black":"white"}_practice_end_result;get practice_end_result(){return this._practice_end_result[0]()}set practice_end_result(r){this._practice_end_result[1](r)}get i_quiz_quiz(){return this.quiz_quiz_ls.length+1}restart_match(){S(()=>{this.practice_end_result=!1,this.mode="match",this.flip_match_color()})}restart_moves(){S(()=>{this.practice_end_result=!1,this.mode="moves",this.flip_match_color()})}end_match_or_moves(){S(()=>{this.practice_end_result=!1,this.mode=void 0})}restart_quiz(){S(()=>{this.quiz_quiz_ls=[],this._quiz_quiz_ls_paths=[],this.mode="quiz-quiz"})}end_quiz(){S(()=>{this.quiz_quiz_ls=[],this._quiz_quiz_ls_paths=[],this.mode="quiz"})}quiz_pass_one(r){S(()=>{this.quiz_quiz_ls.push(1),this.quiz_quiz_ls=this.quiz_quiz_ls,this._quiz_quiz_ls_paths.push(r)})}_quiz_quiz_ls_paths=[];quiz_fail_one(r){S(()=>{this.quiz_quiz_ls.push(-1),this.quiz_quiz_ls=this.quiz_quiz_ls,this._quiz_quiz_ls_paths.push(r)})}get quiz_pass(){return this.quiz_quiz_ls.filter(r=>r>0).length}get quiz_quiz_ls(){return this._quiz_quiz_ls[0]()}set quiz_quiz_ls(r){this._quiz_quiz_ls[1](r)}_quiz_quiz_ls;_quiz_deathmatch_fail;set quiz_deathmatch_fail_result(r){this._quiz_deathmatch_fail[1](r)}get quiz_deathmatch_fail_result(){return this._quiz_deathmatch_fail[0]()}_quiz_deathmatch_result_path;get quiz_deathmatch_result_path(){return this._quiz_deathmatch_result_path[0]()}set quiz_deathmatch_result_path(r){this._quiz_deathmatch_result_path[1](r)}restart_deathmatch(){S(()=>{this.flip_match_color(),this.quiz_deathmatch_fail_result=0,this.mode="quiz-deathmatch"})}end_deathmatch(){S(()=>{this.quiz_deathmatch_fail_result=0,this.mode="quiz",this.flip_match_color()})}constructor(){this._mode=R(void 0,{equals:!1}),this._match_color=R("white"),this._quiz_quiz_ls=R([],{equals:!1}),this._quiz_deathmatch_fail=R(0),this._quiz_deathmatch_result_path=R([]),this._practice_end_result=R(!1)}}const es=u=>(()=>{var r=it(),n=r.firstChild,d=n.firstChild,o=n.nextSibling,f=o.firstChild;return h(o,()=>u.width,f),G(E=>le(d,`width: ${u.width}%`,E)),r})();class ts{constructor(r){this.sections=r}get progress(){let r=this.sections.length;return this.sections.map(n=>Math.round(n.progress/r)).reduce((n,d)=>n+d)}section_by_name(r){return this.sections.find(n=>n.name===r)}}class ss{constructor(r){this.chapters=r,this.m_progress=m(()=>{let n=this.chapters.length;return this.chapters.map(d=>Math.round(d.progress/n)).reduce((d,o)=>d+o)})}m_progress;get name(){return this.chapters[0].section}get progress(){return this.m_progress()}chapter_by_name(r){return this.chapters.find(n=>n.chapter===r)}}class W{constructor(r,n,d,o,f){this.study_id=r,this.section=n,this.chapter=d,this.score_tree=o,this.solved_paths=f}static load_from_store(r,n,d){let o=new Pe(r.id,n,d),f=r.sections.find(E=>E.name===n)?.chapters.find(E=>E.name===d)?.pgn.tree;if(f)return W.make(r.id,n,d,f,ve.set_for_saving(o.solved_paths))}static save_paths_to_store(r){let n=new Pe(r.study_id,r.section,r.chapter);n.solved_paths=r.solved_paths.get_for_saving(),n.practice_progress=r.progress}static make(r,n,d,o,f=new ve){return new W(r,n,d,We.make(o),f)}get clone(){return new W(this.study_id,this.section,this.chapter,this.score_tree,this.solved_paths.clone)}get progress(){return Math.round(this.solved_paths.paths.map(r=>T(()=>this.score_tree.get_at(r)?.score)??0).reduce((r,n)=>r+n,0)*100)}get progress_map(){let r=T(()=>this.score_tree.progress_paths);const n=T(()=>r.map(d=>[d.filter(o=>o.length%2===1).map(o=>this.score_tree.get_at(o).score).reduce((o,f)=>o+f,0),d.filter(o=>o.length%2===0).map(o=>this.score_tree.get_at(o).score).reduce((o,f)=>o+f,0)]));return r.map((d,o)=>{let f=d[0],E=d[d.length-1],L=n[o][0],N=n[o][1],Y=m(()=>this.solved_paths.paths),t=m(()=>Y().filter(v=>d.some(M=>M.join("")===v.join("")))),w=m(()=>t().filter(v=>v.length%2===1).map(v=>this.score_tree.get_at(v).score).reduce((v,M)=>v+M,0)),a=m(()=>t().filter(v=>v.length%2===0).map(v=>this.score_tree.get_at(v).score).reduce((v,M)=>v+M,0));return{color:Jt(f.length/20+E.length/10),total:L+N,black:m(()=>a()/N),white:m(()=>w()/L),path:E}}).reverse()}clone_merge_stats(r){let n=T(()=>this.clone);return n.solved_paths.merge_dup(r.solved_paths),n}merge_and_save_stats(r){this.solved_paths.merge_dup(r.solved_paths),this.save_stats()}save_stats(){W.save_paths_to_store(this)}}const us=()=>{const u=Qe(),[r]=Ne(u.id,Ye.read_section_study);let[n,d]=R();return(()=>{var o=lt();return Oe(f=>d(f),o),h(o,g(I,{get when(){return r()},fallback:"Loading...",get children(){return g(rs,{get el_rep(){return n()},get section_study(){return r()}})}})),o})()},rs=u=>{let r=m(()=>u.section_study.sections),n=new et(u.section_study.id),d=0,o=r().findIndex(z=>z.name===tt.i_section);o===-1&&(o=r().findIndex(z=>z.name===n.i_section_name),o===-1?o=0:d=n.i_chapter_index);const[f,E]=R(o),L=m(()=>r()[f()]),N=m(()=>L().chapters),[Y,t]=R(d),w=z=>{S(()=>{t(0),E(z)})};b(()=>{n.i_section_name=L().name}),b(()=>{n.i_chapter_index=Y()});const a=m(()=>N()[Y()]);let v=m(()=>{const z=u.section_study;return new ts(z.sections.map(q=>new ss(q.chapters.map(y=>W.load_from_store(z,q.name,y.name)))))});const M=new st(u.section_study.id);b(()=>{M.progress=v().progress}),b(()=>{M.sections_progress=v().sections.map(z=>[z.name,z.progress])});const ne=Fe(),te=async()=>{await ge.update_imported_study(u.section_study.id),location.reload()},J=()=>{ge.delete_imported_study(u.section_study.id),ne("/repertoires")},se=()=>{ge.clear_progress(u.section_study.id),console.log("done"),location.reload()};return[(()=>{var z=nt(),q=z.firstChild,y=q.firstChild,X=y.nextSibling,_e=X.firstChild,re=q.nextSibling,oe=re.nextSibling,ae=oe.firstChild;return h(q,()=>u.section_study.name,y),h(X,()=>v().progress,_e),h(re,g(I,{get when(){return u.section_study.import_lichess_link},children:A=>[(()=>{var x=ht();return G(()=>me(x,"href",A())),x})()," "]})),h(ae,g(ee,{get each(){return r()},children:(A,x)=>(()=>{var j=ut(),B=j.firstChild,Q=B.nextSibling,Z=Q.firstChild,ie=Z.nextSibling,s=ie.firstChild,l=Q.nextSibling;return Q.$$click=()=>w(x()),h(Q,()=>A.name,Z),h(ie,()=>v().section_by_name(A.name).progress,s),h(l,g(ee,{get each(){return A.chapters},children:(p,$)=>(()=>{var C=dt(),k=C.firstChild,O=k.firstChild,K=O.firstChild,F=O.nextSibling,H=F.nextSibling;return H.nextSibling,C.$$click=()=>t($()),h(O,()=>$()+1,K),h(k,()=>p.name,H),h(C,g(es,{get width(){return v().section_by_name(A.name).chapter_by_name(p.name).progress}}),null),G(()=>D(C,"chapter"+($()===Y()?" active":""))),C})()})),G(p=>{var $=`accordion-${x()}`,C=f()===x()?"active":"",k=`accordion-${x()}`;return $!==p.e&&me(B,"id",p.e=$),C!==p.t&&D(Q,p.t=C),k!==p.a&&me(Q,"for",p.a=k),p},{e:void 0,t:void 0,a:void 0}),G(()=>B.checked=f()===x()),j})()})),z})(),g(as,{get el_rep(){return u.el_rep},get stats(){return v().section_by_name(L().name).chapter_by_name(a().name)},get study(){return u.section_study},get section(){return L()},get chapter(){return a()}}),(()=>{var z=ct(),q=z.firstChild;return h(z,g(I,{get when(){return u.section_study.import_lichess_link||u.section_study.import_pgn},get children(){return[(()=>{var y=_t();return y.$$click=()=>te(),y})(),(()=>{var y=ot();return y.$$click=()=>J(),y})()]}}),q),q.$$click=()=>se(),z})()]},as=u=>{const r=Ue();r.setVolume(.2);const n=m(()=>u.study),d=m(()=>u.section),o=m(()=>u.chapter),f=m(()=>n().name),E=m(()=>d().name),L=m(()=>o().name),N=m(()=>o().pgn),Y=m(()=>N().tree.initial_color);let t=new Zt,w=new He;const a=m(()=>(t.mode,Je.make(N().tree.clone))),v=m(()=>{let s=a().tree;return T(()=>W.make(f(),E(),L(),s,new ve))});let M=m(()=>u.stats);const[ne,te]=R(!1),J=m(()=>{if(t.mode==="quiz-quiz")return t.i_quiz_quiz===16});let se=m(()=>{let s=M(),l=v(),p=T(()=>s.progress);return s.clone_merge_stats(l).progress-p});const z=m(()=>v().progress_map);let[q,y]=R(!1);const X=s=>{let l=t.mode;if(s==="practice"){if(l===void 0||l==="match"||l==="moves")return" active"}else if(l==="quiz"||l==="quiz-quiz"||l==="quiz-deathmatch")return" active";return""},_e=m(()=>t.mode!==void 0&&!J()&&!t.practice_end_result&&!t.quiz_deathmatch_fail_result),re=m(()=>a().collect_branch_sums(a().cursor_path)),oe=m(U(()=>t.quiz_deathmatch_result_path,s=>{let l=s.length,p=a().tree?.all_leaves.map($=>$.path).filter($=>!a().failed_paths.find(C=>C.join("")===$.join(""))).filter($=>$.join("").startsWith(s.join("")))[0]?.length;return`${l} out of ${p}`}));b(()=>{if(t.mode==="quiz-quiz"){let s=J();t.quiz_quiz_ls[t.quiz_quiz_ls.length-1]<0&&(te(!0),setTimeout(()=>{te(!1)},500)),s?(r.play("victory"),T(()=>{a().clear_failed_paths(),a()._hidden_paths.clear()})):(y(!0),setTimeout(()=>{S(()=>T(()=>{a().set_random_cursor_hide_rest(),t.match_color=a().cursor_after_color;let p=a().cursor_path;j(p.slice(0,-1)),setTimeout(()=>{a().cursor_path=p,y(!1)},200)}))},100))}}),b(()=>{let{mode:s,match_color:l}=t;s==="quiz-deathmatch"&&l!==Y()&&setTimeout(()=>{T(()=>{a().reveal_one_random()})},400)}),b(()=>{a().solved_paths.replace_all(M().solved_paths)}),b(()=>{T(()=>v()).solved_paths.replace_all(a().solved_paths)}),b(U(()=>[M(),v()],(s,l)=>{if(l){let[p,$]=l;p.merge_and_save_stats($)}})),b(U(()=>w.add_uci,s=>{if(q()||!s)return;let[l]=s;a().try_next_uci_fail(l)?(ae(),t.mode==="quiz-quiz"&&t.quiz_pass_one(a().cursor_path)):((t.mode==="match"||t.mode==="moves")&&(y(!0),setTimeout(()=>{a().on_wheel(-1),y(!1)},100)),t.mode==="quiz-quiz"&&(t.quiz_fail_one(a().cursor_path.slice(0,-1)),r.play("error")),t.mode==="quiz-deathmatch"&&(t.quiz_deathmatch_fail_result=-1,t.quiz_deathmatch_result_path=a().cursor_path.slice(0,-1),a()._hidden_paths.clear()))})),b(U(()=>t.quiz_deathmatch_fail_result,s=>{(s>0||s<0)&&r.play("victory")})),b(U(()=>t.practice_end_result,s=>{s&&r.play("victory")})),b(()=>{let{mode:s,match_color:l}=t;s==="match"&&l!==Y()&&T(()=>{ae()})}),b(U(()=>a().fen_last_move,s=>{if(s){let[l,p]=s;w.on_set_fen_uci(l,p)}else w.on_set_fen_uci(N().fen??Be)}));const ae=()=>{let s=()=>a().is_cursor_path_at_a_leaf;s()?t.mode==="quiz-deathmatch"?(t.quiz_deathmatch_fail_result=1,t.quiz_deathmatch_result_path=a().cursor_path):(t.mode==="match"||t.mode==="moves")&&(t.practice_end_result=!0):(t.mode==="match"||t.mode==="quiz-deathmatch")&&(y(!0),setTimeout(()=>{a().reveal_one_random(),s()&&(t.mode==="quiz-deathmatch"?(t.quiz_deathmatch_fail_result=1,t.quiz_deathmatch_result_path=a().cursor_path):(t.mode==="match"||t.mode==="moves")&&(t.practice_end_result=!0)),y(!1)},400))};b(()=>{t.match_color=n().orientation??"white"});let A=!1;b(U(()=>a().tree?.get_at(a().cursor_path),s=>{if(s){if(A){A=!1;return}r.move(s)}}));const x=s=>{q()||(t.mode=s)},j=s=>{A=!0,a().cursor_path=s};b(U(()=>w.on_wheel,s=>{s&&a().on_wheel(s)}));const B=s=>{s.key==="f"&&t.flip_match_color()};Ee(()=>{document.addEventListener("keypress",B)}),pe(()=>{document.removeEventListener("keypress",B)});const Q=s=>{let l=!1;s.key==="ArrowLeft"&&(w.set_on_wheel(-1),l=!0),s.key==="ArrowRight"&&(w.set_on_wheel(1),l=!0),s.key==="ArrowUp"&&(a().can_navigate_up&&a().navigate_up(),l=!0),s.key==="ArrowDown"&&(a().can_navigate_down&&a().navigate_down(),l=!0),l&&s.preventDefault()};Ee(()=>{document.addEventListener("keydown",Q)}),pe(()=>{document.removeEventListener("keydown",Q)});const Z=rt(s=>{const l=s.target;l.tagName!=="PIECE"&&l.tagName!=="SQUARE"&&l.tagName!=="CG-BOARD"||(s.preventDefault(),w.set_on_wheel(Math.sign(s.deltaY)))});b(()=>{const s=u.el_rep;s&&(s.addEventListener("wheel",Z,{passive:!1}),pe(()=>{s.removeEventListener("wheel",Z)}))});const ie=m(()=>{let s=a().tree?._traverse_path(a().cursor_path);return!s||!s.data.nags?[]:at(s.data.uci,s.data.san,Xe[s.data.nags[0]])});return[(()=>{var s=mt();return h(s,g(Ve,{get shapes(){return ie()},get orientation(){return t.match_color},get movable(){return _e()},get doPromotion(){return w.promotion},get onMoveAfter(){return w.on_move_after},get fen_uci(){return w.fen_uci},get color(){return w.turnColor},get dests(){return w.dests}})),s})(),(()=>{var s=pt();return h(s,g(ee,{get each(){return z()},children:l=>(()=>{var p=Tt(),$=p.firstChild,C=$.nextSibling;return p.$$click=k=>a().try_set_cursor_path(l.path),G(k=>{var O=`background: ${l.color}; height: ${l.total*100}%`,K=`height: ${l.white()*100}%`,F=`height: ${l.black()*100}%`;return k.e=le(p,O,k.e),k.t=le($,K,k.t),k.a=le(C,F,k.a),k},{e:void 0,t:void 0,a:void 0}),p})()})),s})(),(()=>{var s=Dt(),l=s.firstChild,p=l.firstChild,$=p.firstChild,C=$.nextSibling,k=l.nextSibling,O=k.firstChild,K=O.nextSibling,F=K.firstChild,H=F.nextSibling,fe=K.nextSibling,ce=fe.firstChild,he=ce.nextSibling,ue=he.nextSibling,$e=ue.nextSibling,Ie=fe.nextSibling,ze=Ie.firstChild,de=ze.firstChild,qe=de.nextSibling,je=ze.nextSibling;return h($,E),h(C,L),h(O,g(Ze,{get lala(){return a()}})),F.$$click=()=>a().navigate_up(),H.$$click=()=>a().navigate_down(),h(K,g(ee,{get each(){return re()},children:e=>(()=>{var _=Lt();return _.$$click=()=>a().try_set_cursor_path(e.path),h(_,g(I,{get when(){return e.ply&1},get children(){var c=Rt();return h(c,()=>Xt(e.ply)),c}}),null),h(_,()=>e.san,null),_})()}),null),ce.$$click=()=>a().navigate_first(),he.$$click=()=>a().navigate_prev(),ue.$$click=()=>a().navigate_next(),$e.$$click=()=>a().navigate_last(),de.$$click=()=>t.end_match_or_moves(),qe.$$click=()=>x("quiz"),h(je,g(Ge,{get children(){return[g(V,{get when(){return t.mode==="quiz"},get children(){return[Me(),gt(),(()=>{var e=vt(),_=e.firstChild,c=_.nextSibling;return _.$$click=()=>x("quiz-quiz"),c.$$click=()=>x("quiz-deathmatch"),e})()]}}),g(V,{get when(){return t.mode==="quiz-deathmatch"},get children(){return[ft(),g(I,{get when(){return t.quiz_deathmatch_fail_result!==0},get fallback(){return[At(),It(),(()=>{var e=jt(),_=e.firstChild;return _.$$click=()=>{S(()=>{let c=a().cursor_path.slice(0,-1);t.end_deathmatch(),a()._hidden_paths.clear(),j(c)})},e})()]},get children(){return[(()=>{var e=$t();return e.firstChild,h(e,g(I,{get when(){return t.quiz_deathmatch_fail_result>0},get fallback(){return Ae()},get children(){return[" ",De()]}}),null),e})(),(()=>{var e=zt();return e.firstChild,h(e,oe,null),e})(),(()=>{var e=Te(),_=e.firstChild,c=_.nextSibling;return c.nextSibling,h(e,se,c),e})(),(()=>{var e=qt(),_=e.firstChild,c=_.nextSibling;return _.$$click=()=>t.restart_deathmatch(),c.$$click=()=>{S(()=>{let P=a().cursor_path.slice(0,-1);t.end_deathmatch(),a()._hidden_paths.clear(),j(P)})},e})()]}})]}}),g(V,{get when(){return t.mode==="quiz-quiz"},get children(){return g(I,{get when(){return J()},get fallback(){return[Qt(),Nt(),Yt(),(()=>{var e=Ot(),_=e.firstChild;return h(e,()=>t.i_quiz_quiz,_),G(()=>D(e,ne()?"error":"")),e})(),(()=>{var e=Ft(),_=e.firstChild;return _.$$click=()=>{S(()=>{let c=a().cursor_path;t.end_quiz(),a()._hidden_paths.clear(),j(c)})},e})()]},get children(){return[(()=>{var e=bt();return e.firstChild,h(e,g(I,{get when(){return t.quiz_pass>10},get fallback(){return Ae()},get children(){return[" ",De()]}}),null),e})(),(()=>{var e=yt(),_=e.firstChild,c=_.nextSibling;return c.nextSibling,h(e,()=>t.quiz_pass,c),e})(),(()=>{var e=Te(),_=e.firstChild,c=_.nextSibling;return c.nextSibling,h(e,se,c),e})(),(()=>{var e=wt();return h(e,g(ee,{get each(){return t.quiz_quiz_ls},children:(_,c)=>(()=>{var P=Ut();return P.$$click=()=>a().cursor_path=t._quiz_quiz_ls_paths[c()],D(P,"move "+(_>0?"success":"error")),h(P,()=>c()+1),P})()})),e})(),(()=>{var e=kt(),_=e.firstChild,c=_.nextSibling;return _.$$click=()=>t.restart_quiz(),c.$$click=()=>{S(()=>{let P=a().cursor_path;t.end_quiz(),a()._hidden_paths.clear(),j(P)})},e})()]}})}}),g(V,{get when(){return t.mode===void 0},get children(){return[Me(),St(),(()=>{var e=xt(),_=e.firstChild,c=_.nextSibling;return _.$$click=()=>x("moves"),c.$$click=()=>x("match"),e})()]}}),g(V,{get when(){return t.mode==="match"},get children(){return[Ct(),g(I,{get when(){return t.practice_end_result},get fallback(){return[(()=>{var e=Gt(),_=e.firstChild,c=_.nextSibling;return c.nextSibling,h(e,()=>t.match_color,c),e})(),Kt(),Wt()]},get children(){return[Re(),Le()]}}),(()=>{var e=Et(),_=e.firstChild,c=_.nextSibling;return _.$$click=()=>t.restart_match(),c.$$click=()=>{let P=a().cursor_path;S(()=>{t.end_match_or_moves(),a()._hidden_paths.clear(),j(P)})},e})()]}}),g(V,{get when(){return t.mode==="moves"},get children(){return[Pt(),g(I,{get when(){return t.practice_end_result},get fallback(){return[Bt(),Ht()]},get children(){return[Re(),Le()]}}),(()=>{var e=Mt(),_=e.firstChild,c=_.nextSibling;return _.$$click=()=>{t.restart_moves()},c.$$click=()=>t.end_match_or_moves(),e})()]}})]}})),G(e=>{var _=q()||!a().can_navigate_up,c="fbt prev"+(!q()&&a().can_navigate_up?"":" disabled"),P=q()||!a().can_navigate_down,be="fbt prev"+(!q()&&a().can_navigate_down?"":" disabled"),ye="fbt first"+(!q()&&a().can_navigate_prev?"":" disabled"),we="fbt prev"+(!q()&&a().can_navigate_prev?"":" disabled"),ke="fbt next"+(!q()&&a().can_navigate_next?"":" disabled"),Se="fbt last"+(!q()&&a().can_navigate_next?"":" disabled"),xe="tab"+X("practice"),Ce="tab"+X("quiz");return _!==e.e&&(F.disabled=e.e=_),c!==e.t&&D(F,e.t=c),P!==e.a&&(H.disabled=e.a=P),be!==e.o&&D(H,e.o=be),ye!==e.i&&D(ce,e.i=ye),we!==e.n&&D(he,e.n=we),ke!==e.s&&D(ue,e.s=ke),Se!==e.h&&D($e,e.h=Se),xe!==e.r&&D(de,e.r=xe),Ce!==e.d&&D(qe,e.d=Ce),e},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0,n:void 0,s:void 0,h:void 0,r:void 0,d:void 0}),s})()]};Ke(["click"]);export{us as default};
